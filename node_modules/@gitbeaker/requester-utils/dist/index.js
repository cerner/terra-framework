"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("xcase"),t=require("query-string"),e=require("form-data"),o=function(r,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])})(r,t)};var n=function(){return(n=Object.assign||function(r){for(var t,e=1,o=arguments.length;e<o;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}).apply(this,arguments)};function i(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var o,n,i=e.call(r),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(r){n={error:r}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(n)throw n.error}}return a}function a(){for(var r=[],t=0;t<arguments.length;t++)r=r.concat(i(arguments[t]));return r}function u(e){return t.stringify(r.decamelizeKeys(e||{}),{arrayFormat:"bracket"})}function c(r,t){return function(r){function e(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var u=i(e),c=u[0],f=u.slice(1);return r.apply(this,a([n(n({},t),c)],f))||this}return function(r,t){function e(){this.constructor=r}o(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(e,r),e}(r)}exports.createInstance=function(r,t){var e={};return["get","post","put","delete","stream"].forEach((function(o){e[o]=function(e,i,a){var u=r(e,n(n({},a),{method:o}));return t(i,u)}})),e},exports.defaultRequest=function(t,o){var n,i=void 0===o?{}:o,a=i.body,c=i.query,f=i.sudo,s=i.method,p=void 0===s?"get":s,y=t.headers;return f&&(y.sudo=f),"object"!=typeof a||a instanceof e?n=a:(n=JSON.stringify(r.decamelizeKeys(a)),y["content-type"]="application/json"),{agent:void 0,headers:y,timeout:t.requestTimeout,method:p,searchParams:u(c),prefixUrl:t.url,body:n}},exports.formatQuery=u,exports.modifyServices=function(r,t){void 0===t&&(t={});var e={};return Object.entries(r).forEach((function(r){var o=i(r,2),n=o[0],a=o[1];e[n]=c(a,t)})),e};
