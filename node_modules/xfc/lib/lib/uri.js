"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

/** URI class for parsing URIs */
var URI = function URI(uri) {
  (0, _classCallCheck2.default)(this, URI);
  var a = document.createElement('a');
  a.href = uri;
  this.protocol = a.protocol;
  this.pathname = a.pathname; // In postMessage the default port for each protocol is stripped from
  // the event origin. Exclude it so the origins match up.

  var portMatch = this.protocol === 'http:' ? /(:80)$/ : /(:443)$/;
  this.host = a.host.replace(portMatch, '');
  this.origin = "".concat(this.protocol, "//").concat(this.host);
};

var _default = URI;
exports.default = _default;