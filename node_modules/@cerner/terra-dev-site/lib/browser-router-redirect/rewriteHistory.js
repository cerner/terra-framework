"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _session = _interopRequireDefault(require("./session"));
// This file works in concert with the gh-pages 404 redirect SPA strategy.
// This file should be included in head.
// Read href stored by redirect.js from the 404.html page.

if ((0, _session.default)() !== undefined) {
  var redirect = window.sessionStorage.redirect;
  delete sessionStorage.redirect;

  // If we have a href and it is not the current location...
  if (redirect && redirect !== window.location.href) {
    // Replace the current history state with the intended href location.
    window.history.replaceState(null, null, redirect);
  }
}