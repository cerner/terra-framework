{"version":3,"file":"react-final-form.umd.js","sources":["../node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../src/renderComponent.js","../src/useWhenValueChanges.js","../src/useConstant.js","../src/shallowEqual.js","../src/isSyntheticEvent.js","../src/context.js","../src/useLatest.js","../src/getters.js","../src/ReactFinalForm.js","../src/useForm.js","../src/useFormState.js","../src/FormSpy.js","../src/isReactNative.js","../src/getValue.js","../src/useConstantCallback.js","../src/useField.js","../src/Field.js","../src/index.js"],"sourcesContent":["export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","// @flow\nimport * as React from \"react\";\nimport type { RenderableProps } from \"./types\";\n\n// shared logic between components that use either render prop,\n// children render function, or component prop\nexport default function renderComponent<T>(\n  props: RenderableProps<T> & T,\n  lazyProps: Object,\n  name: string,\n): React.Node {\n  const { render, children, component, ...rest } = props;\n  if (component) {\n    return React.createElement(\n      component,\n      Object.assign(lazyProps, rest, {\n        children,\n        render,\n      }),\n    );\n  }\n  if (render) {\n    return render(\n      children === undefined\n        ? Object.assign(lazyProps, rest)\n        : // inject children back in\n          Object.assign(lazyProps, rest, { children }),\n    );\n  }\n  if (typeof children !== \"function\") {\n    throw new Error(\n      `Must specify either a render prop, a render function as children, or a component prop to ${name}`,\n    );\n  }\n  return children(Object.assign(lazyProps, rest));\n}\n","// @flow\nimport React from \"react\";\n\nexport default function useWhenValueChanges(\n  value: any,\n  callback: () => void,\n  isEqual: (any, any) => boolean = (a, b) => a === b,\n) {\n  const previous = React.useRef(value);\n  React.useEffect(() => {\n    if (!isEqual(value, previous.current)) {\n      callback();\n      previous.current = value;\n    }\n  });\n}\n","// @flow\nimport React from \"react\";\n\n/**\n * A simple hook to create a constant value that lives for\n * the lifetime of the component.\n *\n * Plagiarized from https://github.com/Andarist/use-constant\n *\n * Do NOT reuse this code unless you know what you're doing.\n * Use Andarist's hook; it's more fault tolerant to things like\n * falsy values.\n *\n * @param {Function} init - A function to generate the value\n */\nexport default function useConstant<T>(init: () => T): T {\n  const ref = React.useRef<?T>();\n  if (!ref.current) {\n    ref.current = init();\n  }\n  return ref.current;\n}\n","// @flow\nconst shallowEqual = (a: any, b: any): boolean => {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== \"object\" || !a || typeof b !== \"object\" || !b) {\n    return false;\n  }\n  var keysA = Object.keys(a);\n  var keysB = Object.keys(b);\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(b);\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n    if (!bHasOwnProperty(key) || a[key] !== b[key]) {\n      return false;\n    }\n  }\n  return true;\n};\n\nexport default shallowEqual;\n","// @flow\nconst isSyntheticEvent = (candidate: any): boolean =>\n  !!(candidate && typeof candidate.stopPropagation === \"function\");\n\nexport default isSyntheticEvent;\n","// @flow\nimport * as React from \"react\";\nimport type { FormApi } from \"final-form\";\n\nexport default React.createContext<?FormApi<any>>();\n","// @flow\nimport React from \"react\";\n\nexport default function useLatest<T>(value: T): { +current: T } {\n  const ref = React.useRef(value);\n\n  React.useEffect(() => {\n    ref.current = value;\n  });\n\n  return ref;\n}\n","import type { FormState, FieldState } from \"final-form\";\n\nconst addLazyState = (dest: Object, state: Object, keys: string[]): void => {\n  keys.forEach((key) => {\n    Object.defineProperty(dest, key, {\n      get: () => state[key],\n      enumerable: true,\n    });\n  });\n};\n\nexport const addLazyFormState = (dest: Object, state: FormState): void =>\n  addLazyState(dest, state, [\n    \"active\",\n    \"dirty\",\n    \"dirtyFields\",\n    \"dirtySinceLastSubmit\",\n    \"dirtyFieldsSinceLastSubmit\",\n    \"error\",\n    \"errors\",\n    \"hasSubmitErrors\",\n    \"hasValidationErrors\",\n    \"initialValues\",\n    \"invalid\",\n    \"modified\",\n    \"modifiedSinceLastSubmit\",\n    \"pristine\",\n    \"submitError\",\n    \"submitErrors\",\n    \"submitFailed\",\n    \"submitSucceeded\",\n    \"submitting\",\n    \"touched\",\n    \"valid\",\n    \"validating\",\n    \"values\",\n    \"visited\",\n  ]);\n\nexport const addLazyFieldMetaState = (dest: Object, state: FieldState): void =>\n  addLazyState(dest, state, [\n    \"active\",\n    \"data\",\n    \"dirty\",\n    \"dirtySinceLastSubmit\",\n    \"error\",\n    \"initial\",\n    \"invalid\",\n    \"length\",\n    \"modified\",\n    \"modifiedSinceLastSubmit\",\n    \"pristine\",\n    \"submitError\",\n    \"submitFailed\",\n    \"submitSucceeded\",\n    \"submitting\",\n    \"touched\",\n    \"valid\",\n    \"validating\",\n    \"visited\",\n  ]);\n","// @flow\nimport * as React from \"react\";\nimport {\n  createForm,\n  formSubscriptionItems,\n  version as ffVersion,\n} from \"final-form\";\nimport type {\n  FormApi,\n  Config,\n  FormSubscription,\n  FormState,\n  FormValuesShape,\n  Unsubscribe,\n} from \"final-form\";\nimport type { FormProps as Props, SubmitEvent } from \"./types\";\nimport renderComponent from \"./renderComponent\";\nimport useWhenValueChanges from \"./useWhenValueChanges\";\nimport useConstant from \"./useConstant\";\nimport shallowEqual from \"./shallowEqual\";\nimport isSyntheticEvent from \"./isSyntheticEvent\";\nimport type { FormRenderProps } from \"./types.js.flow\";\nimport ReactFinalFormContext from \"./context\";\nimport useLatest from \"./useLatest\";\nimport { version } from \"../package.json\";\nimport { addLazyFormState } from \"./getters\";\n\nexport { version };\n\nconst versions = {\n  \"final-form\": ffVersion,\n  \"react-final-form\": version,\n};\n\nexport const all: FormSubscription = formSubscriptionItems.reduce(\n  (result, key) => {\n    result[key] = true;\n    return result;\n  },\n  {},\n);\n\nfunction ReactFinalForm<FormValues: FormValuesShape>({\n  debug,\n  decorators = [],\n  destroyOnUnregister,\n  form: alternateFormApi,\n  initialValues,\n  initialValuesEqual,\n  keepDirtyOnReinitialize,\n  mutators,\n  onSubmit,\n  subscription = all,\n  validate,\n  validateOnBlur,\n  ...rest\n}: Props<FormValues>) {\n  const config: Config<FormValues> = {\n    debug,\n    destroyOnUnregister,\n    initialValues,\n    keepDirtyOnReinitialize,\n    mutators,\n    onSubmit,\n    validate,\n    validateOnBlur,\n  };\n\n  const form: FormApi<FormValues> = useConstant(() => {\n    const f = alternateFormApi || createForm<FormValues>(config);\n    // pause validation until children register all fields on first render (unpaused in useEffect() below)\n    f.pauseValidation();\n    return f;\n  });\n\n  // synchronously register and unregister to query form state for our subscription on first render\n  const [state, setState] = React.useState<FormState<FormValues>>(\n    (): FormState<FormValues> => {\n      let initialState: FormState<FormValues> = {};\n      form.subscribe((state) => {\n        initialState = state;\n      }, subscription)();\n      return initialState;\n    },\n  );\n\n  // save a copy of state that can break through the closure\n  // on the shallowEqual() line below.\n  const stateRef = useLatest<FormState<FormValues>>(state);\n\n  React.useEffect(() => {\n    // We have rendered, so all fields are now registered, so we can unpause validation\n    form.isValidationPaused() && form.resumeValidation();\n    const unsubscriptions: Unsubscribe[] = [\n      form.subscribe((s) => {\n        if (!shallowEqual(s, stateRef.current)) {\n          setState(s);\n        }\n      }, subscription),\n      ...(decorators\n        ? decorators.map((decorator) =>\n            // this noop ternary is to appease the flow gods\n            // istanbul ignore next\n            decorator(form),\n          )\n        : []),\n    ];\n\n    return () => {\n      form.pauseValidation(); // pause validation so we don't revalidate on every field deregistration\n      unsubscriptions.reverse().forEach((unsubscribe) => unsubscribe());\n      // don't need to resume validation here; either unmounting, or will re-run this hook with new deps\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, decorators);\n\n  // warn about decorator changes\n  // istanbul ignore next\n  if (process.env.NODE_ENV !== \"production\") {\n    // You're never supposed to use hooks inside a conditional, but in this\n    // case we can be certain that you're not going to be changing your\n    // NODE_ENV between renders, so this is safe.\n\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useWhenValueChanges(\n      decorators,\n      () => {\n        console.error(\n          \"Form decorators should not change from one render to the next as new values will be ignored\",\n        );\n      },\n      shallowEqual,\n    );\n  }\n\n  // allow updatable config\n  useWhenValueChanges(debug, () => {\n    form.setConfig(\"debug\", debug);\n  });\n  useWhenValueChanges(destroyOnUnregister, () => {\n    form.destroyOnUnregister = !!destroyOnUnregister;\n  });\n  useWhenValueChanges(keepDirtyOnReinitialize, () => {\n    form.setConfig(\"keepDirtyOnReinitialize\", keepDirtyOnReinitialize);\n  });\n  useWhenValueChanges(\n    initialValues,\n    () => {\n      form.setConfig(\"initialValues\", initialValues);\n    },\n    initialValuesEqual || shallowEqual,\n  );\n  useWhenValueChanges(mutators, () => {\n    form.setConfig(\"mutators\", mutators);\n  });\n  useWhenValueChanges(onSubmit, () => {\n    form.setConfig(\"onSubmit\", onSubmit);\n  });\n  useWhenValueChanges(validate, () => {\n    form.setConfig(\"validate\", validate);\n  });\n  useWhenValueChanges(validateOnBlur, () => {\n    form.setConfig(\"validateOnBlur\", validateOnBlur);\n  });\n\n  const handleSubmit = (event: ?SubmitEvent) => {\n    if (event) {\n      // sometimes not true, e.g. React Native\n      if (typeof event.preventDefault === \"function\") {\n        event.preventDefault();\n      }\n      if (typeof event.stopPropagation === \"function\") {\n        // prevent any outer forms from receiving the event too\n        event.stopPropagation();\n      }\n    }\n    return form.submit();\n  };\n\n  const renderProps: FormRenderProps<FormValues> = {\n    form: {\n      ...form,\n      reset: (eventOrValues) => {\n        if (isSyntheticEvent(eventOrValues)) {\n          // it's a React SyntheticEvent, call reset with no arguments\n          form.reset();\n        } else {\n          form.reset(eventOrValues);\n        }\n      },\n    },\n    handleSubmit,\n  };\n  addLazyFormState(renderProps, state);\n  return React.createElement(\n    ReactFinalFormContext.Provider,\n    { value: form },\n    renderComponent(\n      {\n        ...rest,\n        __versions: versions,\n      },\n      renderProps,\n      \"ReactFinalForm\",\n    ),\n  );\n}\n\nexport default ReactFinalForm;\n","// @flow\nimport * as React from \"react\";\nimport type { FormApi, FormValuesShape } from \"final-form\";\nimport ReactFinalFormContext from \"./context\";\n\nfunction useForm<FormValues: FormValuesShape>(\n  componentName?: string,\n): FormApi<FormValues> {\n  const form: ?FormApi<FormValues> = React.useContext(ReactFinalFormContext);\n  if (!form) {\n    throw new Error(\n      `${componentName || \"useForm\"} must be used inside of a <Form> component`,\n    );\n  }\n  return form;\n}\n\nexport default useForm;\n","// @flow\nimport * as React from \"react\";\nimport type { UseFormStateParams } from \"./types\";\nimport type { FormState, FormApi, FormValuesShape } from \"final-form\";\nimport { all } from \"./ReactFinalForm\";\nimport useForm from \"./useForm\";\nimport { addLazyFormState } from \"./getters\";\n\nfunction useFormState<FormValues: FormValuesShape>({\n  onChange,\n  subscription = all,\n}: UseFormStateParams<FormValues> = {}): FormState<FormValues> {\n  const form: FormApi<FormValues> = useForm<FormValues>(\"useFormState\");\n  const firstRender = React.useRef(true);\n  const onChangeRef = React.useRef(onChange);\n  onChangeRef.current = onChange;\n\n  // synchronously register and unregister to query field state for our subscription on first render\n  const [state, setState] = React.useState<FormState<FormValues>>(\n    (): FormState<FormValues> => {\n      let initialState: FormState<FormValues> = {};\n      form.subscribe((state) => {\n        initialState = state;\n      }, subscription)();\n      if (onChange) {\n        onChange(initialState);\n      }\n      return initialState;\n    },\n  );\n\n  React.useEffect(\n    () =>\n      form.subscribe((newState) => {\n        if (firstRender.current) {\n          firstRender.current = false;\n        } else {\n          setState(newState);\n          if (onChangeRef.current) {\n            onChangeRef.current(newState);\n          }\n        }\n      }, subscription),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [],\n  );\n  const lazyState = {};\n  addLazyFormState(lazyState, state);\n  return lazyState;\n}\n\nexport default useFormState;\n","// @flow\nimport renderComponent from \"./renderComponent\";\nimport type {\n  FormSpyPropsWithForm as Props,\n  FormSpyRenderProps,\n} from \"./types\";\nimport type { FormValuesShape } from \"final-form\";\nimport isSyntheticEvent from \"./isSyntheticEvent\";\nimport useForm from \"./useForm\";\nimport useFormState from \"./useFormState\";\n\nfunction FormSpy<FormValues: FormValuesShape>({\n  onChange,\n  subscription,\n  ...rest\n}: Props<FormValues>) {\n  const reactFinalForm = useForm<FormValues>(\"FormSpy\");\n  const state = useFormState({ onChange, subscription });\n  if (onChange) {\n    return null;\n  }\n\n  const renderProps: FormSpyRenderProps<FormValues> = {\n    form: {\n      ...reactFinalForm,\n      reset: (eventOrValues) => {\n        if (isSyntheticEvent(eventOrValues)) {\n          // it's a React SyntheticEvent, call reset with no arguments\n          reactFinalForm.reset();\n        } else {\n          reactFinalForm.reset(eventOrValues);\n        }\n      },\n    },\n  };\n  return renderComponent(\n    {\n      ...rest,\n      ...renderProps,\n    },\n    state,\n    \"FormSpy\",\n  );\n}\n\nexport default FormSpy;\n","// @flow\nconst isReactNative =\n  typeof window !== \"undefined\" &&\n  window.navigator &&\n  window.navigator.product &&\n  window.navigator.product === \"ReactNative\";\n\nexport default isReactNative;\n","// @flow\nconst getSelectedValues = (options) => {\n  const result = [];\n  if (options) {\n    for (let index = 0; index < options.length; index++) {\n      const option = options[index];\n      if (option.selected) {\n        result.push(option.value);\n      }\n    }\n  }\n  return result;\n};\n\nconst getValue = (\n  event: SyntheticInputEvent<*>,\n  currentValue: any,\n  valueProp: any,\n  isReactNative: boolean,\n) => {\n  if (\n    !isReactNative &&\n    event.nativeEvent &&\n    (event.nativeEvent: Object).text !== undefined\n  ) {\n    return (event.nativeEvent: Object).text;\n  }\n  if (isReactNative && event.nativeEvent) {\n    return (event.nativeEvent: any).text;\n  }\n  const detypedEvent: any = event;\n  const {\n    target: { type, value, checked },\n  } = detypedEvent;\n  switch (type) {\n    case \"checkbox\":\n      if (valueProp !== undefined) {\n        // we are maintaining an array, not just a boolean\n        if (checked) {\n          // add value to current array value\n          return Array.isArray(currentValue)\n            ? currentValue.concat(valueProp)\n            : [valueProp];\n        } else {\n          // remove value from current array value\n          if (!Array.isArray(currentValue)) {\n            return currentValue;\n          }\n          const index = currentValue.indexOf(valueProp);\n          if (index < 0) {\n            return currentValue;\n          } else {\n            return currentValue\n              .slice(0, index)\n              .concat(currentValue.slice(index + 1));\n          }\n        }\n      } else {\n        // it's just a boolean\n        return !!checked;\n      }\n    case \"select-multiple\":\n      return getSelectedValues((event.target: any).options);\n    default:\n      return value;\n  }\n};\n\nexport default getValue;\n","// @flow\nimport * as React from \"react\";\n\n/**\n * Creates a callback, even with closures, that will be\n * instance === for the lifetime of the component, always\n * calling the most recent version of the function and its\n * closures.\n */\nexport default function useConstantCallback(callback) {\n  const ref = React.useRef(callback);\n  React.useEffect(() => {\n    ref.current = callback;\n  });\n  return React.useCallback((...args) => ref.current.apply(null, args), []);\n}\n","// @flow\nimport * as React from \"react\";\nimport { fieldSubscriptionItems } from \"final-form\";\nimport type {\n  FieldSubscription,\n  FieldState,\n  FormApi,\n  FormValuesShape,\n} from \"final-form\";\nimport type {\n  UseFieldConfig,\n  FieldInputProps,\n  FieldRenderProps,\n} from \"./types\";\nimport isReactNative from \"./isReactNative\";\nimport getValue from \"./getValue\";\nimport useForm from \"./useForm\";\nimport useLatest from \"./useLatest\";\nimport { addLazyFieldMetaState } from \"./getters\";\nimport useConstantCallback from \"./useConstantCallback\";\n\nconst all: FieldSubscription = fieldSubscriptionItems.reduce((result, key) => {\n  result[key] = true;\n  return result;\n}, {});\n\nconst defaultFormat = (value: ?any, name: string) =>\n  value === undefined ? \"\" : value;\nconst defaultParse = (value: ?any, name: string) =>\n  value === \"\" ? undefined : value;\n\nconst defaultIsEqual = (a: any, b: any): boolean => a === b;\n\nfunction useField<FormValues: FormValuesShape>(\n  name: string,\n  config: UseFieldConfig = {},\n): FieldRenderProps {\n  const {\n    afterSubmit,\n    allowNull,\n    component,\n    data,\n    defaultValue,\n    format = defaultFormat,\n    formatOnBlur,\n    initialValue,\n    multiple,\n    parse = defaultParse,\n    subscription = all,\n    type,\n    validateFields,\n    value: _value,\n  } = config;\n  const form: FormApi<FormValues> = useForm<FormValues>(\"useField\");\n\n  const configRef = useLatest(config);\n\n  const register = (callback: (FieldState) => void, silent: boolean) =>\n    // avoid using `state` const in any closures created inside `register`\n    // because they would refer `state` from current execution context\n    // whereas actual `state` would defined in the subsequent `useField` hook\n    // execution\n    // (that would be caused by `setState` call performed in `register` callback)\n    form.registerField(name, callback, subscription, {\n      afterSubmit,\n      beforeSubmit: () => {\n        const {\n          beforeSubmit,\n          formatOnBlur,\n          format = defaultFormat,\n        } = configRef.current;\n\n        if (formatOnBlur) {\n          const { value } = ((form.getFieldState(name): any): FieldState);\n          const formatted = format(value, name);\n\n          if (formatted !== value) {\n            form.change(name, formatted);\n          }\n        }\n\n        return beforeSubmit && beforeSubmit();\n      },\n      data,\n      defaultValue,\n      getValidator: () => configRef.current.validate,\n      initialValue,\n      isEqual: (a, b) => (configRef.current.isEqual || defaultIsEqual)(a, b),\n      silent,\n      validateFields,\n    });\n\n  const firstRender = React.useRef(true);\n\n  // synchronously register and unregister to query field state for our subscription on first render\n  const [state, setState] = React.useState<FieldState>((): FieldState => {\n    let initialState: FieldState = {};\n\n    // temporarily disable destroyOnUnregister\n    const destroyOnUnregister = form.destroyOnUnregister;\n    form.destroyOnUnregister = false;\n\n    register((state) => {\n      initialState = state;\n    }, true)();\n\n    // return destroyOnUnregister to its original value\n    form.destroyOnUnregister = destroyOnUnregister;\n\n    return initialState;\n  });\n\n  React.useEffect(\n    () =>\n      register((state) => {\n        if (firstRender.current) {\n          firstRender.current = false;\n        } else {\n          setState(state);\n        }\n      }, false),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      name,\n      data,\n      defaultValue,\n      // If we want to allow inline fat-arrow field-level validation functions, we\n      // cannot reregister field every time validate function !==.\n      // validate,\n      initialValue,\n      // The validateFields array is often passed as validateFields={[]}, creating\n      // a !== new array every time. If it needs to be changed, a rerender/reregister\n      // can be forced by changing the key prop\n      // validateFields\n    ],\n  );\n\n  const meta = {};\n  addLazyFieldMetaState(meta, state);\n  const input: FieldInputProps = {\n    name,\n    get value() {\n      let value = state.value;\n      if (formatOnBlur) {\n        if (component === \"input\") {\n          value = defaultFormat(value, name);\n        }\n      } else {\n        value = format(value, name);\n      }\n      if (value === null && !allowNull) {\n        value = \"\";\n      }\n      if (type === \"checkbox\" || type === \"radio\") {\n        return _value;\n      } else if (component === \"select\" && multiple) {\n        return value || [];\n      }\n      return value;\n    },\n    get checked() {\n      let value = state.value;\n      if (type === \"checkbox\") {\n        value = format(value, name);\n        if (_value === undefined) {\n          return !!value;\n        } else {\n          return !!(Array.isArray(value) && ~value.indexOf(_value));\n        }\n      } else if (type === \"radio\") {\n        return format(value, name) === _value;\n      }\n      return undefined;\n    },\n    onBlur: useConstantCallback((event: ?SyntheticFocusEvent<*>) => {\n      state.blur();\n      if (formatOnBlur) {\n        /**\n         * Here we must fetch the value directly from Final Form because we cannot\n         * trust that our `state` closure has the most recent value. This is a problem\n         * if-and-only-if the library consumer has called `onChange()` immediately\n         * before calling `onBlur()`, but before the field has had a chance to receive\n         * the value update from Final Form.\n         */\n        const fieldState: any = form.getFieldState(state.name);\n        state.change(format(fieldState.value, state.name));\n      }\n    }),\n    onChange: useConstantCallback((event: SyntheticInputEvent<*> | any) => {\n      // istanbul ignore next\n      if (process.env.NODE_ENV !== \"production\" && event && event.target) {\n        const targetType = event.target.type;\n        const unknown =\n          ~[\"checkbox\", \"radio\", \"select-multiple\"].indexOf(targetType) &&\n          !type &&\n          component !== \"select\";\n\n        const value: any =\n          targetType === \"select-multiple\" ? state.value : _value;\n\n        if (unknown) {\n          console.error(\n            `You must pass \\`type=\"${\n              targetType === \"select-multiple\" ? \"select\" : targetType\n            }\"\\` prop to your Field(${name}) component.\\n` +\n              `Without it we don't know how to unpack your \\`value\\` prop - ${\n                Array.isArray(value) ? `[${value}]` : `\"${value}\"`\n              }.`,\n          );\n        }\n      }\n\n      const value: any =\n        event && event.target\n          ? getValue(event, state.value, _value, isReactNative)\n          : event;\n      state.change(parse(value, name));\n    }),\n    onFocus: useConstantCallback((event: ?SyntheticFocusEvent<*>) =>\n      state.focus(),\n    ),\n  };\n\n  if (multiple) {\n    input.multiple = multiple;\n  }\n  if (type !== undefined) {\n    input.type = type;\n  }\n\n  const renderProps: FieldRenderProps = { input, meta }; // assign to force Flow check\n  return renderProps;\n}\n\nexport default useField;\n","// @flow\nimport * as React from \"react\";\nimport type { FieldProps as Props, FieldRenderProps } from \"./types\";\nimport renderComponent from \"./renderComponent\";\nimport useField from \"./useField\";\n\nconst Field = React.forwardRef<any, Props>(function Field(\n  {\n    afterSubmit,\n    allowNull,\n    beforeSubmit,\n    children,\n    component,\n    data,\n    defaultValue,\n    format,\n    formatOnBlur,\n    initialValue,\n    isEqual,\n    multiple,\n    name,\n    parse,\n    subscription,\n    type,\n    validate,\n    validateFields,\n    value,\n    ...rest\n  }: Props,\n  ref,\n) {\n  const field: FieldRenderProps = useField(name, {\n    afterSubmit,\n    allowNull,\n    beforeSubmit,\n    children,\n    component,\n    data,\n    defaultValue,\n    format,\n    formatOnBlur,\n    initialValue,\n    isEqual,\n    multiple,\n    parse,\n    subscription,\n    type,\n    validate,\n    validateFields,\n    value,\n  });\n\n  if (typeof children === \"function\") {\n    return (children: Function)({ ...field, ...rest });\n  }\n\n  if (typeof component === \"string\") {\n    // ignore meta, combine input with any other props\n    return React.createElement(component, {\n      ...field.input,\n      children,\n      ref,\n      ...rest,\n    });\n  }\n\n  if (!name) {\n    throw new Error(\"prop name cannot be undefined in <Field> component\");\n  }\n\n  return renderComponent(\n    { children, component, ref, ...rest },\n    field,\n    `Field(${name})`,\n  );\n});\n\nexport default Field;\n","// @flow\nimport Form from \"./ReactFinalForm\";\nimport FormSpy from \"./FormSpy\";\nexport { default as Field } from \"./Field\";\nexport { default as Form, version } from \"./ReactFinalForm\";\nexport { default as FormSpy } from \"./FormSpy\";\nexport { default as useField } from \"./useField\";\nexport { default as useFormState } from \"./useFormState\";\nexport { default as useForm } from \"./useForm\";\nexport function withTypes() {\n  return { Form, FormSpy };\n}\n"],"names":["renderComponent","props","lazyProps","name","render","children","component","rest","React","createElement","Object","assign","undefined","Error","useWhenValueChanges","value","callback","isEqual","a","b","previous","useRef","useEffect","current","useConstant","init","ref","shallowEqual","keysA","keys","keysB","length","bHasOwnProperty","prototype","hasOwnProperty","bind","idx","key","isSyntheticEvent","candidate","stopPropagation","createContext","useLatest","addLazyState","dest","state","forEach","defineProperty","get","enumerable","addLazyFormState","addLazyFieldMetaState","versions","ffVersion","version","all","formSubscriptionItems","reduce","result","ReactFinalForm","debug","decorators","destroyOnUnregister","alternateFormApi","form","initialValues","initialValuesEqual","keepDirtyOnReinitialize","mutators","onSubmit","subscription","validate","validateOnBlur","config","f","createForm","pauseValidation","useState","initialState","subscribe","setState","stateRef","isValidationPaused","resumeValidation","unsubscriptions","s","map","decorator","reverse","unsubscribe","console","error","setConfig","handleSubmit","event","preventDefault","submit","renderProps","reset","eventOrValues","ReactFinalFormContext","Provider","__versions","useForm","componentName","useContext","useFormState","onChange","firstRender","onChangeRef","newState","lazyState","FormSpy","reactFinalForm","isReactNative","window","navigator","product","getSelectedValues","options","index","option","selected","push","getValue","currentValue","valueProp","nativeEvent","text","detypedEvent","target","type","checked","Array","isArray","concat","indexOf","slice","useConstantCallback","useCallback","args","apply","fieldSubscriptionItems","defaultFormat","defaultParse","defaultIsEqual","useField","afterSubmit","allowNull","data","defaultValue","format","formatOnBlur","initialValue","multiple","parse","validateFields","_value","configRef","register","silent","registerField","beforeSubmit","getFieldState","formatted","change","getValidator","meta","input","onBlur","blur","fieldState","targetType","unknown","onFocus","focus","Field","forwardRef","field","withTypes","Form"],"mappings":"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"}