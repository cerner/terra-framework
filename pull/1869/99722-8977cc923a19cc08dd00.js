"use strict";(self.webpackChunkterra_framework=self.webpackChunkterra_framework||[]).push([[99722],{99722:function(e,t,n){var r=n(64836),l=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(861)),a=r(n(27424)),i=r(n(38416)),u=h(n(67294)),c=r(n(45697)),d=r(n(47166)),s=h(n(51051)),f=h(n(12810)),b=r(n(29270)),m=r(n(86843)),p=r(n(36199));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=l(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(11710);var C=d.default.bind(p.default),v={ariaLabelledBy:c.default.string,ariaLabel:c.default.string,id:c.default.string.isRequired,rows:c.default.arrayOf(f.rowShape),sections:c.default.arrayOf(f.sectionShape),pinnedColumns:c.default.arrayOf(f.columnShape),overflowColumns:c.default.arrayOf(f.columnShape),defaultColumnWidth:c.default.number,columnHeaderHeight:c.default.string,columnResizeIncrement:c.default.number,rowHeight:c.default.string,rowHeaderIndex:f.validateRowHeaderIndex,onColumnResize:c.default.func,onCellSelect:c.default.func,onSectionSelect:c.default.func,onColumnSelect:c.default.func,onClearSelection:c.default.func,onRangeSelection:c.default.func,onRowSelectionHeaderSelect:c.default.func,onCellRangeSelect:c.default.func,hasSelectableRows:c.default.bool,hasVisibleColumnHeaders:c.default.bool},S=(0,u.forwardRef)((function(e,t){var n=e.ariaLabel,r=e.ariaLabelledBy,l=e.columnHeaderHeight,i=e.columnResizeIncrement,c=e.defaultColumnWidth,d=e.hasVisibleColumnHeaders,p=e.hasSelectableRows,g=e.id,h=e.onCellRangeSelect,w=e.onCellSelect,v=e.onClearSelection,S=e.onColumnResize,O=e.onColumnSelect,E=e.onRangeSelection,R=e.onRowSelectionHeaderSelect,_=e.onSectionSelect,x=e.overflowColumns,H=e.pinnedColumns,k=e.rowHeaderIndex,K=e.rowHeight,P=e.rows,j=e.sections,I=(p?[m.default.ROW_SELECTION_COLUMN]:[]).concat(H).concat(x),D=P.map((function(e){return y(y({},e),{},{cells:e.cells.map((function(e){return y(y({},e),{},{isSelectable:!1!==e.isSelectable})}))})})),L=(0,u.useRef)(),T=(0,u.useRef)(),N=(0,u.useRef)(),B=(0,u.useRef)(!0),M=(0,u.useState)(!1),W=(0,a.default)(M,2),Y=W[0],A=W[1],z=(0,u.useState)(d?0:1),G=(0,a.default)(z,2),U=G[0],F=G[1],V=(0,u.useState)(0),q=(0,a.default)(V,2),J=q[0],Q=q[1],X=(0,u.useState)(!1),Z=(0,a.default)(X,2),$=Z[0],ee=Z[1],te=(0,u.useState)(null),ne=(0,a.default)(te,2),re=ne[0],le=ne[1],oe=(0,u.useMemo)((function(){return{role:f.GridConstants.GRID,setCellAriaLiveMessage:le,tableRef:L,tableContainerRef:N}}),[L,N]),ae=function(e,t,n){if(le(null),F(e),Q(t),n){var r,l=L.current.rows[e].cells[t];if(i=t,p&&i<I.length&&I[i].id===m.default.ROW_SELECTION_COLUMN.id&&l.getElementsByTagName("input").length>0){var o=l.getElementsByTagName("input");l=(0,a.default)(o,1)[0]}0!==e||l.hasAttribute("tabindex")||(l=l.querySelector('[role="button"]')),null===(r=l)||void 0===r||r.focus()}var i};(0,u.useImperativeHandle)(t,(function(){return{setFocusedRowCol:ae,getFocusedCell:function(){return{row:U,col:J}}}}),[J,U]);var ie=(0,u.useCallback)((function(e){var t=I.findIndex((function(t){return t.id===e}));Q(t),O&&O(e)}),[O,I]),ue=(0,u.useCallback)((function(){Q(0),F(0),R&&R()}),[R]),ce=(0,u.useCallback)((function(e){F(e.rowIndex),Q(e.columnIndex),w&&w(e)}),[w]);return u.default.createElement("div",{tabIndex:0,ref:T,onKeyDown:function(e){var t={row:U,col:J},n=t.row,r=t.col;A(!1);var l=e.target;if(e.keyCode===s.KEY_TAB||!(function(e){if("input"===e.tagName.toLowerCase()){var t=e.type;return["text","password","number","email","tel","url","search","date","datetime","datetime-local","time","month","week"].indexOf(t)>=0}return!1}(l)||["textarea","select"].indexOf(l.tagName.toLowerCase())>=0||l.hasAttribute("contentEditable")&&!1!==l.getAttribute("contentEditable"))){switch(e.keyCode){case s.KEY_UP:n-=1;break;case s.KEY_DOWN:n+=1;break;case s.KEY_LEFT:e.metaKey?(r=0,e.ctrlKey&&(n=1)):(r-=1,A(0===t.row));break;case s.KEY_RIGHT:e.metaKey?(r=I.length-1,e.ctrlKey&&(n=P.length)):r+=1;break;case s.KEY_HOME:r=0,e.ctrlKey&&(n=1);break;case s.KEY_END:r=I.length-1,e.ctrlKey&&(n=P.length);break;case s.KEY_ESCAPE:return v&&v(),void e.preventDefault();case s.KEY_TAB:return function(e){var t=(0,o.default)(document.body.querySelectorAll("".concat("a[href]:not([tabindex='-1']), area[href]:not([tabindex='-1']), input:not([disabled]):not([tabindex='-1']), select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']), iframe:not([tabindex='-1']), [tabindex]:not([tabindex='-1']), [contentEditable=true]:not([tabindex='-1'])"))).filter((function(e){return!(e.hasAttribute("disabled")||e.getAttribute("aria-hidden")||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)||"hidden"===window.getComputedStyle(e).visibility||null!==e.closest("[inert]")||e.id!==g&&T.current.contains(e))})),n=t.indexOf(T.current);if(n>-1){var r,l=e?1:-1;n+l<t.length?r=t[n+l]:t[0].id!==g&&(r=t[0]),r&&r.focus()}}(!e.shiftKey),void e.preventDefault();default:return}var a=new Set([s.KEY_UP,s.KEY_DOWN]),i=new Set([s.KEY_UP,s.KEY_DOWN,s.KEY_LEFT,s.KEY_RIGHT]);E&&e.shiftKey&&a.has(e.keyCode)&&E(t.row,t.col,e.keyCode),h&&e.shiftKey&&i.has(e.keyCode)&&h(t.row,t.col,e.keyCode),n>P.length||r>=I.length||r<0||n<(d?0:1)||function(e,t){var n=N.current.getBoundingClientRect(),r=L.current.rows[0].cells[t.col].getBoundingClientRect(),l=L.current.rows[t.row].cells[t.col].getBoundingClientRect();if(l.right>n.right)N.current.scrollBy(l.right-n.right,0);else{var o=0,a=p?1:0,i=H.length-1+a;if(i>=0){if(t.col>i){var u=L.current.rows[t.row].cells[i].getBoundingClientRect();o=l.left-u.right}}else o=l.left-n.left;o<0&&N.current.scrollBy(o,0)}var c=l.top-r.bottom;c<0&&N.current.scrollBy(0,c),ae(t.row,t.col,!0)}(0,{row:n,col:r}),e.preventDefault()}},onMouseDown:function(){B.current=!1},onFocus:function(e){e.currentTarget.contains(e.relatedTarget)||B.current&&(ae(U,J,!0),ee(!0)),B.current=!0},onBlur:function(e){e.currentTarget.contains(e.relatedTarget)||ee(!1)},id:g,className:C("data-grid-container")},u.default.createElement(f.GridContext.Provider,{value:oe},u.default.createElement(f.default,{id:"".concat(g,"-table"),rows:D,sections:j,ariaLabelledBy:r,ariaLabel:n,activeColumnIndex:$&&0===U?J:void 0,isActiveColumnResizing:0===U&&Y,columnResizeIncrement:i,pinnedColumns:H,overflowColumns:x,defaultColumnWidth:c,columnHeaderHeight:l,rowHeight:K,rowHeaderIndex:k,onColumnResize:S,onColumnSelect:ie,onSectionSelect:_,onCellSelect:ce,onRowSelectionHeaderSelect:ue,hasSelectableRows:p,hasVisibleColumnHeaders:d,isStriped:!0})),u.default.createElement(b.default,{"aria-live":"polite","aria-atomic":"true",text:re}))}));S.propTypes=v,S.defaultProps={rowHeaderIndex:0,defaultColumnWidth:200,columnHeaderHeight:"2.5rem",rowHeight:"2.5rem",pinnedColumns:[],overflowColumns:[],rows:[],hasVisibleColumnHeaders:!0};t.default=S},11710:function(){"undefined"!=typeof Element&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}))},86843:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={ROW_SELECTION_COLUMN:{id:"WorklistDataGrid-rowSelectionColumn",width:40,isSelectable:!0,isResizable:!1}};t.default=n},36199:function(e,t,n){n.r(t),t.default={"data-grid-container":"DataGrid-module__data-grid-container___4LJj1"}}}]);