"use strict";(self.webpackChunkterra_framework=self.webpackChunkterra_framework||[]).push([[8190],{44184:function(e,t,i){i.r(t),i.d(t,{default:function(){return U}});var a=i(87462),n=i(44925);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function r(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=s(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:String(t)}function l(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,r(a.key),a)}}function u(e,t,i){return t&&l(e.prototype,t),i&&l(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}var p=i(67294),v=i(25387),b=i(45697),T=i.n(b),g=i(19845),y=i.n(g),D=i(47341),O=i(28411),C=i(43671),k=i(51051),S=i(47362),_=i(47717),w=i(80008),V=i.n(w),B=i(90592),R=function(){function e(){o(this,e)}return u(e,null,[{key:"hasTime",value:function(t,i){if(!e.createSafeDate(t,i))return!1;var a="";return t.indexOf(" ")>0&&(a=t.split(" ")[1]),t.indexOf("T")>0&&(a=t.split("T")[1]),a.length>0}},{key:"syncDateTime",value:function(t,i,a,n){var o=V()(i);if(t&&t.isValid()){var s=t.clone();return o.isValid()&&s.year(o.get("year")).month(o.get("month")).date(o.get("date")),a&&(!n&&5===a.length||n&&8===a.length)&&(s=e.updateTime(s,a,n)),s}if(o.isValid()){var r=o.clone();return a&&(!n&&5===a.length||n&&8===a.length)&&(r=e.updateTime(r,a,n)),r}return t}},{key:"updateTime",value:function(t,i,a){if(!t||!t.isValid())return null;var n=t.clone(),o=a?"HH:mm:ss":"HH:mm",s=V()(i,o,!0),r=t.tz()||e.getLocalTimeZone();if(s.isValid()){var l=n.format("YYYY-MM-DD").concat(" ").concat(s.format(o));return V().tz(l,r)}return t}},{key:"getTime",value:function(t,i,a){var n=i?"HH:mm:ss":"HH:mm",o=e.createSafeDate(t,a);return S.default.formatMomentDate(o,n)}},{key:"isValidDateTime",value:function(t,i,a,n){return S.default.isValidDate(t,a)&&e.isValidTime(i,n)}},{key:"isValidTime",value:function(e,t){var i=t?"HH:mm:ss":"HH:mm";return V()(e,i,!0).isValid()}},{key:"checkAmbiguousTime",value:function(e){if(!e||!e.isValid())return!1;var t=V().tz(e.format(),e.tz()),i=t.clone(),a=t.clone();i.add(1,"hour"),a.subtract(1,"hour");var n=t.isDST()&&!i.isDST(),o=!t.isDST()&&a.isDST();return n||o}},{key:"getDaylightSavingTZDisplay",value:function(t,i){var a=e.createSafeDate(t,i);return a.isValid()?(a.subtract(1,"days"),a.tz(a.tz()).format("z")):""}},{key:"getDaylightSavingExpandedTZDisplay",value:function(t,i){var a=e.createSafeDate(t,i);if(!a.isValid())return"";a.subtract(1,"days");var n=a.tz(),o=a.tz(n);return V().tz.zone(n).name+o.format(" z Z")}},{key:"getStandardTZDisplay",value:function(t,i){var a=e.createSafeDate(t,i);return a.isValid()?(a.add(1,"days"),a.tz(a.tz()).format("z")):""}},{key:"getStandardExpandedTZDisplay",value:function(t,i){var a=e.createSafeDate(t,i);if(!a.isValid())return"";a.add(1,"days");var n=a.tz(),o=a.tz(n);return V().tz.zone(n).name+o.format(" z Z")}},{key:"convertDateTimeStringToMomentObject",value:function(t,i,a,n,o){var s=e.createSafeDate(S.default.convertToISO8601(t,a),o);return e.updateTime(s,i,n)}},{key:"createSafeDate",value:function(t,i){if(t){var a=i&&V().tz.zone(i)?V().tz(t,i):V().tz(t,e.getLocalTimeZone());return a.isValid()?a:void 0}}},{key:"isMomentObject",value:function(e){return V().isMoment(e)}},{key:"getLocalTimeZone",value:function(){return V().tz.guess()}},{key:"checkIfTimeZoneIsValid",value:function(t){return V().tz.zone(t)?t:e.getLocalTimeZone()}}]),e}();R.FORMAT_12_HOUR=B.default.FORMAT_12_HOUR,R.FORMAT_24_HOUR=B.default.FORMAT_24_HOUR;var M=R,A=i(31501),I=i(55281);function j(e,t,i){return t=h(t),c(e,F()?Reflect.construct(t,i||[],h(e).constructor):t.apply(e,i))}function F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(F=function(){return!!e})()}var E=y().bind({"clinical-lowlight-theme":"_TimeClarification-module__clinical-lowlight-theme___PAUWW","orion-fusion-theme":"_TimeClarification-module__orion-fusion-theme___xsejC","time-clarification":"_TimeClarification-module__time-clarification___39yEE",header:"_TimeClarification-module__header___w+fwx",title:"_TimeClarification-module__title___4V7ww",body:"_TimeClarification-module__body___6TkuJ",buttons:"_TimeClarification-module__buttons___-ZIoe","button-daylight":"_TimeClarification-module__button-daylight___4Dyb4","button-standard":"_TimeClarification-module__button-standard___XTU9y","button-offset":"_TimeClarification-module__button-offset___zc7zJ","button-offset-hidden":"_TimeClarification-module__button-offset-hidden___1adfw","offset-button-container":"_TimeClarification-module__offset-button-container___VKKJQ"}),Z={ambiguousDateTime:T().string,intl:T().shape({formatMessage:T().func}).isRequired,isOpen:T().bool.isRequired,isOffsetButtonHidden:T().bool.isRequired,onBlur:T().func,onDaylightSavingButtonClick:T().func.isRequired,onFocus:T().func,onStandardTimeButtonClick:T().func.isRequired,onOffsetButtonClick:T().func.isRequired,onRequestClose:T().func.isRequired,disabled:T().bool,initialTimeZone:T().string},P=function(e){function t(e){var i;return o(this,t),(i=j(this,t,[e])).state={offsetDisplay:"",offsetLongDisplay:""},i.handleDaylightSavingButtonClick=i.handleDaylightSavingButtonClick.bind(d(i)),i.handleStandardTimeButtonClick=i.handleStandardTimeButtonClick.bind(d(i)),i}return m(t,e),u(t,[{key:"handleDaylightSavingButtonClick",value:function(e){this.setState({offsetDisplay:M.getDaylightSavingTZDisplay(this.props.ambiguousDateTime,this.props.initialTimeZone),offsetLongDisplay:M.getDaylightSavingExpandedTZDisplay(this.props.ambiguousDateTime,this.props.initialTimeZone)}),this.props.onDaylightSavingButtonClick&&this.props.onDaylightSavingButtonClick(e)}},{key:"handleStandardTimeButtonClick",value:function(e){this.setState({offsetDisplay:M.getStandardTZDisplay(this.props.ambiguousDateTime,this.props.initialTimeZone),offsetLongDisplay:M.getStandardExpandedTZDisplay(this.props.ambiguousDateTime,this.props.initialTimeZone)}),this.props.onStandardTimeButtonClick&&this.props.onStandardTimeButtonClick(e)}},{key:"render",value:function(){this.props.isOffsetButtonHidden&&(this.state.offsetDisplay="");var e=E(["button-offset",{"button-offset-hidden":this.props.isOffsetButtonHidden||!this.state.offsetDisplay}]),t=this.props.intl,i=t.formatMessage({id:"Terra.dateTimePicker.timeClarification.title"}),a=t.formatMessage({id:"Terra.dateTimePicker.timeClarification.message"}),n=t.formatMessage({id:"Terra.dateTimePicker.timeClarification.button.daylightSaving"}),o=t.formatMessage({id:"Terra.dateTimePicker.timeClarification.button.standardTime"});return p.createElement(p.Fragment,null,p.createElement(A.default,{classNameModal:E("time-clarification"),ariaLabel:"Time Clarification",isOpen:this.props.isOpen,onRequestClose:this.props.onRequestClose,closeOnEsc:!1,closeOnOutsideClick:!1,zIndex:"9000"},p.createElement("div",null,p.createElement("header",{className:E("header")},p.createElement("h1",{className:E("title")},i)),p.createElement("div",{className:E("body")},p.createElement("p",null,a)),p.createElement("div",{className:E("buttons")},p.createElement(I.default,{text:n,onClick:this.handleDaylightSavingButtonClick,variant:I.default.Opts.Variants.EMPHASIS,className:E("button-daylight")}),p.createElement(I.default,{text:o,onClick:this.handleStandardTimeButtonClick,variant:I.default.Opts.Variants.EMPHASIS,className:E("button-standard")})))),p.createElement("div",{className:E("offset-button-container")},p.createElement(I.default,{title:this.state.offsetLongDisplay,"aria-label":this.state.offsetLongDisplay,className:e,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onClick:this.props.onOffsetButtonClick,text:this.state.offsetDisplay,isCompact:!0,isDisabled:this.props.disabled})))}}]),t}(p.Component);P.propTypes=Z,P.defaultProps={disabled:!1};var z=(0,v.injectIntl)(P),x=["dateInputAttributes","disabled","error","excludeDates","filterDate","help","hideRequired","includeDates","initialTimeZone","intl","isIncomplete","isInvalid","isInline","isLabelHidden","isInvalidMeridiem","dateLabel","dateLabelAttrs","onBlur","onChange","onChangeRaw","onClickOutside","onFocus","onRequestClose","onSelect","maxDate","minDate","maxWidth","name","required","showSeconds","showOptional","timeInputAttributes","timeLabel","timeLabelAttrs","value","timeVariant"];function H(e,t,i){return t=h(t),c(e,L()?Reflect.construct(t,i||[],h(e).constructor):t.apply(e,i))}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L=function(){return!!e})()}var q=y().bind({"date-time-picker":"DateTimePicker-module__date-time-picker___C7CDf","date-facade":"DateTimePicker-module__date-facade___7-DbV","time-facade":"DateTimePicker-module__time-facade___piLdY"}),N={dateInputAttributes:T().object,disabled:T().bool,excludeDates:T().arrayOf(T().string),error:T().node,filterDate:T().func,help:T().node,hideRequired:T().bool,includeDates:T().arrayOf(T().string),initialTimeZone:T().string,intl:T().shape({formatMessage:T().func,locale:T().string}).isRequired,isIncomplete:T().bool,isInvalid:T().bool,isInvalidMeridiem:T().bool,isInline:T().bool,isLabelHidden:T().bool,maxDate:T().string,dateLabel:T().node,dateLabelAttrs:T().object,minDate:T().string,name:T().string.isRequired,onBlur:T().func,onChange:T().func,onChangeRaw:T().func,onClickOutside:T().func,onFocus:T().func,onRequestClose:T().func,onSelect:T().func,required:T().bool,maxWidth:T().string,showSeconds:T().bool,showOptional:T().bool,timeInputAttributes:T().object,timeLabel:T().node.isRequired,timeLabelAttrs:T().object,value:T().string,timeVariant:T().oneOf([M.FORMAT_12_HOUR,M.FORMAT_24_HOUR])},W={dateInputAttributes:void 0,disabled:!1,error:null,excludeDates:void 0,filterDate:void 0,help:null,hideRequired:!1,includeDates:void 0,isIncomplete:!1,isInvalid:!1,isInline:!1,isInvalidMeridiem:!1,isLabelHidden:!1,maxDate:"2100-12-31",minDate:"1900-01-01",maxWidth:void 0,onBlur:void 0,onChange:void 0,onChangeRaw:void 0,onClickOutside:void 0,onFocus:void 0,onSelect:void 0,required:!1,showSeconds:!1,timeInputAttributes:void 0,value:void 0,timeVariant:M.FORMAT_24_HOUR,initialTimeZone:M.getLocalTimeZone(),showOptional:!1},Y=function(e){function t(e){var i;return o(this,t),(i=H(this,t,[e])).initialTimeZone=M.checkIfTimeZoneIsValid(e.initialTimeZone),i.state={dateTime:M.createSafeDate(e.value,i.initialTimeZone),isAmbiguousTime:!1,isTimeClarificationOpen:!1,dateFormat:S.default.getFormatByLocale(e.intl.locale)},i.dateValue=S.default.formatMomentDate(i.state.dateTime,i.state.dateFormat)||"",i.timeValue=M.hasTime(i.props.value,i.initialTimeZone)?M.getTime(i.props.value,i.props.showSeconds,i.initialTimeZone):"",i.isDefaultDateTimeAcceptable=!0,i.wasOffsetButtonClicked=!1,i.handleDateChange=i.handleDateChange.bind(d(i)),i.handleDateChangeRaw=i.handleDateChangeRaw.bind(d(i)),i.handleTimeChange=i.handleTimeChange.bind(d(i)),i.handleOnSelect=i.handleOnSelect.bind(d(i)),i.handleOnDateBlur=i.handleOnDateBlur.bind(d(i)),i.handleOnTimeBlur=i.handleOnTimeBlur.bind(d(i)),i.handleBlur=i.handleBlur.bind(d(i)),i.handleDaylightSavingButtonClick=i.handleDaylightSavingButtonClick.bind(d(i)),i.handleStandardTimeButtonClick=i.handleStandardTimeButtonClick.bind(d(i)),i.handleOnDateInputFocus=i.handleOnDateInputFocus.bind(d(i)),i.handleOnTimeInputFocus=i.handleOnTimeInputFocus.bind(d(i)),i.handleFocus=i.handleFocus.bind(d(i)),i.handleOnCalendarButtonClick=i.handleOnCalendarButtonClick.bind(d(i)),i.handleOffsetButtonClick=i.handleOffsetButtonClick.bind(d(i)),i.handleOnRequestClose=i.handleOnRequestClose.bind(d(i)),i.dateTimePickerContainer=p.createRef(),i.containerHasFocus=!1,i.prevDateTime=M.createSafeDate(e.value,i.initialTimeZone),i}return m(t,e),u(t,[{key:"componentDidMount",value:function(){this.isDefaultDateAcceptable=this.validateDefaultDate()}},{key:"componentDidUpdate",value:function(){if(this.state.dateTime&&M.isValidTime(this.timeValue,this.props.showSeconds)){var e=M.getTime(this.state.dateTime.format(),this.props.showSeconds,this.initialTimeZone);this.timeValue!==e&&(this.timeValue=e,this.forceUpdate())}}},{key:"handleOnSelect",value:function(e,t){this.dateValue=S.default.formatISODate(t,this.state.dateFormat);var i=this.state.dateTime?this.state.dateTime.clone():null,a=M.syncDateTime(i,t,this.timeValue,this.props.showSeconds);i&&i.format()===a.format()||this.checkAmbiguousTime(a),this.props.onSelect&&this.props.onSelect(e,a.format())}},{key:"handleOnDateBlur",value:function(e){var t=this,i=e.relatedTarget?e.relatedTarget:document.activeElement;if(!this.dateTimePickerContainer.current.contains(i)){var a=M.isValidDateTime(this.dateValue,this.timeValue,this.state.dateFormat,this.props.showSeconds)?this.state.dateTime:null;this.checkAmbiguousTime(a,(function(){e.persist(),t.state.isAmbiguousTime&&t.state.isTimeClarificationOpen||t.handleBlur(e,t.state.dateTime)}))}}},{key:"handleOnTimeBlur",value:function(e){var t,i=this,a=e.relatedTarget?e.relatedTarget:document.activeElement;this.dateTimePickerContainer.current.contains(a)||(M.isValidDateTime(this.dateValue,this.timeValue,this.state.dateFormat,this.props.showSeconds)&&(t=M.updateTime(this.state.dateTime,this.timeValue,this.props.showSeconds)),this.checkAmbiguousTime(t,(function(){e.persist(),i.state.isAmbiguousTime&&i.state.isTimeClarificationOpen||i.handleBlur(e,i.state.dateTime)})))}},{key:"handleBlur",value:function(e,t){if(this.props.onBlur){var i=this.getMetadata(t);this.props.onBlur(e,i)}this.containerHasFocus=!1}},{key:"handleDateChange",value:function(e,t){var i,a=S.default.formatISODate(t,"YYYY-MM-DD"),n=S.default.isValidDate(a,"YYYY-MM-DD"),o=M.isValidTime(this.timeValue,this.props.showSeconds);if(n&&(this.dateValue=S.default.formatISODate(t,this.state.dateFormat)),n){var s=this.state.dateTime?this.state.dateTime.clone():M.createSafeDate(a,this.initialTimeZone);if(i=M.syncDateTime(s,t,this.timeValue,this.props.showSeconds),s.isDST()&&3===s.hours()){var r=!1;i.isDST()||(i.subtract(1,"hours"),r=!0),!s.subtract(1,"days").isDST()&&i.isDST()&&(i.subtract(1,"hours"),r=!0),s&&3===s._a[3]&&r&&(i.add(1,"hours"),r=!1)}this.prevDateTime&&2===this.prevDateTime._a[3]&&3===this.prevDateTime.hours()&&i.subtract(1,"hours"),o&&(this.timeValue=M.getTime(i.format(),this.props.showSeconds,this.initialTimeZone))}n&&o||""===this.dateValue&&""===this.timeValue?this.handleChange(e,i):this.setState({dateTime:i})}},{key:"handleDateChangeRaw",value:function(e,t){this.dateValue=t,S.default.isValidDate(this.dateValue,this.state.dateFormat)&&this.isDateTimeAcceptable(M.convertDateTimeStringToMomentObject(this.dateValue,this.timeValue,this.state.dateFormat,this.props.showSeconds,this.initialTimeZone))||(this.prevDateTime=this.state.dateTime?this.state.dateTime:this.prevDateTime,this.setState({dateTime:null})),this.handleChangeRaw(e,t)}},{key:"handleTimeChange",value:function(e,t){this.timeValue=t;var i=S.default.isValidDate(this.dateValue,this.state.dateFormat)&&this.isDateTimeAcceptable(M.convertDateTimeStringToMomentObject(this.dateValue,this.timeValue,this.state.dateFormat,this.props.showSeconds,this.initialTimeZone)),a=M.isValidTime(this.timeValue,this.props.showSeconds),n=this.state.dateTime?this.state.dateTime.clone():null,o=!1;if("keydown"===e.type){var s=this.timeValue.split(":");if("n"===e.key||"N"===e.key)n=S.default.createSafeDate(S.default.getCurrentDate(),this.initialTimeZone),o=!0;else if("-"===e.key||"_"===e.key){i||(n=S.default.createSafeDate(S.default.getCurrentDate(),this.initialTimeZone),o=!0),"23"===s[0]&&"59"===s[1]&&(n=n.subtract(1,"d"),o=!0);var r=M.updateTime(n,this.timeValue,this.props.showSeconds),l=n.clone().subtract(1,"minute").hours();r.isDST()&&l!==r.hours()&&(s[0]="0".concat(l).slice(-2),this.timeValue=s.join(":")),n.isBefore(S.default.MIN_DATE.concat(" ","00:00:00"))&&(s[0]="00",s[1]="00",this.props.showSeconds&&(s[2]="00"),this.timeValue=s.join(":"),n=M.updateTime(S.default.createSafeDate(S.default.MIN_DATE,this.initialTimeZone),this.timeValue,this.props.showSeconds))}else"="===e.key||"+"===e.key?(i||(n=S.default.createSafeDate(S.default.getCurrentDate(),this.initialTimeZone),o=!0),"00"===s[0]&&"00"===s[1]&&(n=n.add(1,"d"),o=!0),n.isAfter(S.default.MAX_DATE.concat(" ","23:59:59"))&&(s[0]="23",s[1]="59",this.props.showSeconds&&(s[2]="59"),this.timeValue=s.join(":"),n=M.updateTime(S.default.createSafeDate(S.default.MAX_DATE,this.initialTimeZone),this.timeValue,this.props.showSeconds))):this.props.timeVariant!==M.FORMAT_12_HOUR||"a"!==e.key&&"A"!==e.key&&"p"!==e.key&&"P"!==e.key||i||(n=S.default.createSafeDate(S.default.getCurrentDate(),this.initialTimeZone),o=!0)}if(o&&(this.dateValue=S.default.formatISODate(n.format("YYYY-MM-DD"),this.state.dateFormat),i=S.default.isValidDate(this.dateValue,this.state.dateFormat)&&this.isDateTimeAcceptable(M.convertDateTimeStringToMomentObject(this.dateValue,this.timeValue,this.state.dateFormat,this.props.showSeconds,this.initialTimeZone))),i&&a){var u=M.updateTime(n,this.timeValue,this.props.showSeconds);e.keyCode===k.KEY_DOWN&&n&&u&&n.format()===u.format()&&u.subtract(1,"hours");var d=this.timeValue;u&&(d=M.getTime(u.format(),this.props.showSeconds,this.initialTimeZone)),this.handleChangeRaw(e,d),this.handleChange(e,u)}else if(""===this.dateValue&&""===this.timeValue)this.handleChangeRaw(e,this.timeValue),this.handleChange(e,null);else{if(!i&&a){var c=M.updateTime(n,this.timeValue,this.props.showSeconds);this.setState({dateTime:c})}this.handleChangeRaw(e,this.timeValue)}}},{key:"handleChange",value:function(e,t){if(this.setState({dateTime:t}),this.props.onChange&&(this.state.isAmbiguousTime||!M.checkAmbiguousTime(t))){var i=this.getMetadata(t);this.props.onChange(e,null!=t&&t.isValid()?t.format():"",i)}}},{key:"handleChangeRaw",value:function(e,t){if(this.props.onChangeRaw){var i=this.getMetadata(t);this.props.onChangeRaw(e,t,i)}}},{key:"handleOnDateInputFocus",value:function(e){this.handleOnInputFocus(e)}},{key:"handleOnTimeInputFocus",value:function(e){this.handleOnInputFocus(e)}},{key:"handleOnInputFocus",value:function(e){this.handleFocus(e),this.isDefaultDateAcceptable||(this.dateValue="",this.timeValue="",this.handleChange(e,null),this.isDefaultDateAcceptable=!0)}},{key:"handleFocus",value:function(e){!this.props.onFocus||this.containerHasFocus||this.dateTimePickerContainer.current.contains(e.relatedTarget)||(this.props.onFocus(e),this.containerHasFocus=!0)}},{key:"handleOnCalendarButtonClick",value:function(e){this.isDefaultDateAcceptable||this.validateDefaultDate()?this.isDefaultDateAcceptable=!0:(this.dateValue="",this.timeValue="",this.handleChange(e,null))}},{key:"handleDaylightSavingButtonClick",value:function(e){this.setState({isTimeClarificationOpen:!1});var t=this.state.dateTime.clone();if(t.isDST()){if(this.props.onChange&&!this.wasOffsetButtonClicked){var i=this.getMetadata(t);this.props.onChange(e,null!=t&&t.isValid()?t.format():"",i)}}else if(t.subtract(1,"hour"),this.setState({dateTime:t}),this.props.onChange){var a=this.getMetadata(t);this.props.onChange(e,null!=t&&t.isValid()?t.format():"",a)}this.wasOffsetButtonClicked||this.handleBlur(e,t),this.wasOffsetButtonClicked=!1}},{key:"handleStandardTimeButtonClick",value:function(e){this.setState({isTimeClarificationOpen:!1});var t=this.state.dateTime.clone();if(t.isDST()){if(t.add(1,"hour"),this.setState({dateTime:t}),this.props.onChange){var i=this.getMetadata(t);this.props.onChange(e,null!=t&&t.isValid()?t.format():"",i)}}else if(this.props.onChange&&!this.wasOffsetButtonClicked){var a=this.getMetadata(t);this.props.onChange(e,null!=t&&t.isValid()?t.format():"",a)}this.wasOffsetButtonClicked||this.handleBlur(e,t),this.wasOffsetButtonClicked=!1}},{key:"handleOffsetButtonClick",value:function(){this.wasOffsetButtonClicked=!0,this.setState((function(e){return{isTimeClarificationOpen:!e.isTimeClarificationOpen}}))}},{key:"handleOnRequestClose",value:function(){this.setState({isTimeClarificationOpen:!1})}},{key:"getMetadata",value:function(e){var t=e&&M.isMomentObject(e)?e.clone():null;if(S.default.isValidDate(this.dateValue,this.state.dateFormat)){var i=M.convertDateTimeStringToMomentObject(this.dateValue,this.timeValue,this.state.dateFormat,this.props.showSeconds,this.initialTimeZone);i&&!i.isSame(t,"day")&&(t=i)}var a="",n=M.isValidDateTime(this.dateValue,this.timeValue,this.state.dateFormat,this.props.showSeconds);n&&t&&(a=t.format());var o=this.timeValue||"";a&&(o=M.getTime(a,this.props.showSeconds,this.initialTimeZone));var s=!1,r="".concat(this.dateValue?this.dateValue:""," ").concat(o).trim();(""===r||n&&t&&this.isDateTimeAcceptable(t))&&(s=!0);var l=!1;return n&&t&&(l=M.checkAmbiguousTime(t)),{iSO:a,inputValue:r,dateValue:this.dateValue||"",timeValue:o,isAmbiguousHour:l,isCompleteValue:n,isValidValue:s}}},{key:"checkAmbiguousTime",value:function(e,t){if(!this.state.isTimeClarificationOpen){var i=!1,a=this.state.isAmbiguousTime;if(e&&e.isValid()){var n=e.clone();i=M.checkAmbiguousTime(n)}this.setState({isAmbiguousTime:i,isTimeClarificationOpen:i&&!a},t)}}},{key:"isDateTimeAcceptable",value:function(e){var t=!0;return S.default.isDateOutOfRange(e,M.createSafeDate(S.default.getMinDate(this.props.minDate),this.initialTimeZone),M.createSafeDate(S.default.getMaxDate(this.props.maxDate),this.initialTimeZone))&&(t=!1),S.default.isDateExcluded(e,this.props.excludeDates)&&(t=!1),t}},{key:"validateDefaultDate",value:function(){return this.isDateTimeAcceptable(this.state.dateTime)}},{key:"renderTimeClarification",value:function(){return p.createElement(z,{ambiguousDateTime:this.state.dateTime.format(),disabled:this.props.disabled,isOpen:this.state.isTimeClarificationOpen,isOffsetButtonHidden:!this.state.isAmbiguousTime,onDaylightSavingButtonClick:this.handleDaylightSavingButtonClick,onStandardTimeButtonClick:this.handleStandardTimeButtonClick,onOffsetButtonClick:this.handleOffsetButtonClick,onRequestClose:this.handleOnRequestClose,onBlur:this.handleOnTimeBlur,onFocus:this.handleFocus,initialTimeZone:this.initialTimeZone})}},{key:"render",value:function(){var e=this,t=this.props,i=t.dateInputAttributes,o=t.disabled,s=t.error,r=t.excludeDates,l=t.filterDate,u=t.help,d=t.hideRequired,c=t.includeDates,h=(t.initialTimeZone,t.intl),f=t.isIncomplete,m=t.isInvalid,v=t.isInline,b=t.isLabelHidden,T=t.isInvalidMeridiem,g=t.dateLabel,y=t.dateLabelAttrs,D=(t.onBlur,t.onChange,t.onChangeRaw,t.onClickOutside),k=(t.onFocus,t.onRequestClose),w=(t.onSelect,t.maxDate),V=t.minDate,B=t.maxWidth,R=(t.name,t.required),A=t.showSeconds,I=t.showOptional,j=t.timeInputAttributes,F=t.timeLabel,E=t.timeLabelAttrs,Z=(t.value,t.timeVariant),P=(0,n.Z)(t,x),z=this.state.dateTime?this.state.dateTime.clone():null,H=S.default.formatMomentDate(z,"YYYY-MM-DD"),L=this.context,N=!!this.state.dateTime&&z.isAfter(M.createSafeDate(S.default.MAX_DATE.concat(" ","23:58:59"),this.initialTimeZone)),W=!!this.state.dateTime&&z.isBefore(M.createSafeDate(S.default.MIN_DATE.concat(" ","00:01:00"),this.initialTimeZone)),Y=u&&p.createElement("div",{"aria-label":"".concat(h.formatMessage({id:"Terra.datePicker.dateFormatLabel"})," ").concat(u)},"Â ",u);return p.createElement("div",(0,a.Z)({},P,{className:q("date-time-picker",L.className),ref:this.dateTimePickerContainer}),p.createElement("div",{className:q("date-facade")},p.createElement(_.default,(0,a.Z)({},P,{label:g,labelAttrs:y,error:s,help:Y,hideRequired:d,required:R,showOptional:I,isInvalid:m,isInline:v,isLabelHidden:b,maxWidth:B}),p.createElement(O.default,{onCalendarButtonClick:this.handleOnCalendarButtonClick,onChange:this.handleDateChange,onChangeRaw:this.handleDateChangeRaw,onSelect:this.handleOnSelect,onClickOutside:D,onRequestClose:k,onBlur:this.handleOnDateBlur,onFocus:this.handleOnDateInputFocus,excludeDates:r,filterDate:l,includeDates:c,inputAttributes:i,maxDate:S.default.getMaxDate(w),minDate:S.default.getMinDate(V),selectedDate:H,value:H,name:"input",disabled:o,disableButtonFocusOnClose:!0,isIncomplete:f,isInvalid:m,required:R,initialTimeZone:this.initialTimeZone,isDefaultDateAcceptable:!0}))),p.createElement("div",{className:q("time-facade")},p.createElement(_.default,(0,a.Z)({},P,P,{label:F,labelAttrs:E,error:s,help:Y,hideRequired:d,required:R,showOptional:I,isInvalid:m,isInline:v,isLabelHidden:b}),p.createElement(C.default,{onBlur:this.handleOnTimeBlur,onChange:this.handleTimeChange,onFocus:this.handleOnTimeInputFocus,inputAttributes:j,name:"input",value:this.timeValue,disabled:o,variant:Z,refCallback:function(t){e.hourInput=t},showSeconds:A,isIncomplete:f,isInvalid:m,isInvalidMeridiem:T,required:R,atMaxDate:N,atMinDate:W})),this.state.isAmbiguousTime&&this.state.dateTime?this.renderTimeClarification():null))}}]),t}(p.Component);Y.propTypes=N,Y.defaultProps=W,Y.contextType=D.default;var U=(0,v.injectIntl)(Y)},30245:function(e,t,i){var a=i(64836),n=i(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i(27424)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var i=l(t);if(i&&i.has(e))return i.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var r=o?Object.getOwnPropertyDescriptor(e,s):null;r&&(r.get||r.set)?Object.defineProperty(a,s,r):a[s]=e[s]}return a.default=e,i&&i.set(e,a),a}(i(67294)),r=a(i(44184));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(l=function(e){return e?i:t})(e)}t.default=function(){var e=(0,s.useState)(!1),t=(0,o.default)(e,2),i=t[0],a=t[1],n=(0,s.useState)(!1),l=(0,o.default)(n,2),u=l[0],d=l[1],c=(0,s.useState)(!1),h=(0,o.default)(c,2),f=h[0],m=h[1];return s.default.createElement("div",null,s.default.createElement("button",{type:"button",id:"validity-toggle",onClick:function(){a(!i)}},"Toggle Validity"),s.default.createElement("button",{type:"button",id:"incomplete-toggle",onClick:function(){d(!u),m(!f)}},"Toggle Incomplete"),s.default.createElement(r.default,{isInvalid:i,isIncomplete:u,dateLabel:"Date Label",timeLabel:"Time Label",required:f,error:"Error message.",name:"date-input",datePickerId:"default",help:"Help message.",label:"Enter Date"}))}},88245:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(i(67294)),n=o(i(99139));function o(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},s.apply(this,arguments)}var r=function(e){var t=s({},e);return a.default.createElement(n.default,t,a.default.createElement("path",{d:"M43 6h-4V2.2C39 1 38 0 36.8 0h-1.7C33.9.1 33 1 33 2.2V6H15V2.2C15 1 14 0 12.8 0h-1.7C9.9.1 9 1 9 2.2V6H5c-1.1 0-2 .9-2 2v38c0 1.1.9 2 2 2h24c1.3-.1 2.5-.6 3.4-1.4l11.2-11.1c.8-.9 1.3-2.1 1.4-3.4V8c0-1.1-.9-2-2-2zM6 21h36v10H30c-1.1 0-2 .9-2 2v12H6V21zm25 22.8V34h9.8L31 43.8z"}))};r.displayName="IconCalendar",r.defaultProps={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"};t.default=r},80906:function(e,t,i){function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DependentViewport=void 0;var n=u(i(67294)),o=u(i(45697)),s=u(i(32018)),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var i=l(t);if(i&&i.has(e))return i.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var r=o?Object.getOwnPropertyDescriptor(e,s):null;r&&(r.get||r.set)?Object.defineProperty(n,s,r):n[s]=e[s]}return n.default=e,i&&i.set(e,n),n}(i(30210));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(l=function(e){return e?i:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,s=void 0,s=function(e,t){if("object"!==a(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===a(s)?s:String(s)),n)}var o,s}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=m(e);if(t){var o=m(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,i)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}t.DependentViewport={WINDOW:"window",PARENT:"parent"};var p={children:o.default.node,onChange:o.default.func,onResize:o.default.func,tiny:o.default.element,small:o.default.element,medium:o.default.element,large:o.default.element,huge:o.default.element,enormous:o.default.element,responsiveTo:o.default.oneOf(["window","parent"])},v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(l,e);var t,i,a,o=h(l);function l(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(e=o.call(this)).state={element:null},e.setContainer=e.setContainer.bind(f(e)),e.handleResize=e.handleResize.bind(f(e)),e.handleWindowResize=e.handleWindowResize.bind(f(e)),e.animationFrameID=null,e}return t=l,(i=[{key:"componentDidMount",value:function(){var e=this,t=this.props;t.tiny,t.small,t.medium,t.large,t.huge,t.enormous,this.container?(this.handleResize(this.container.getBoundingClientRect().width),this.resizeObserver=new s.default((function(t){e.animationFrameID=window.requestAnimationFrame((function(){e.animationFrameID=null,e.handleResize(t[0].target.getBoundingClientRect().width)}))})),this.resizeObserver.observe(this.container)):(this.handleResize(window.innerWidth),window.addEventListener("resize",this.handleWindowResize))}},{key:"componentWillUnmount",value:function(){this.container?(window.cancelAnimationFrame(this.animationFrameID),this.resizeObserver.disconnect(this.container),this.container=null):window.removeEventListener("resize",this.handleWindowResize)}},{key:"handleResize",value:function(e){var t=this.props,i=t.onChange,a=t.onResize,n=t.tiny,o=t.small,s=t.medium,l=t.large,u=t.huge,d=t.enormous;a&&a(e);var c,h=(0,r.activeBreakpointForSize)(e);i&&h!==this.breakpoint&&i(h),this.breakpoint=h,(n||o||s||l||u||d)&&(c=e>=r.default.enormous&&d?"enormous":e>=r.default.huge&&u?"huge":e>=r.default.large&&l?"large":e>=r.default.medium&&s?"medium":e>=r.default.small&&o?"small":"tiny",this.state.element!==c&&this.setState({element:c}))}},{key:"handleWindowResize",value:function(){this.handleResize(window.innerWidth)}},{key:"setContainer",value:function(e){null!==e&&(this.container="parent"===this.props.responsiveTo?e.parentNode:null)}},{key:"render",value:function(){var e=this.props,t=e.children,i=e.responsiveTo;return this.state.element?this.props[this.state.element]||null:n.default.createElement(n.default.Fragment,null,"parent"===i&&!this.container&&n.default.createElement("div",{ref:this.setContainer}),t)}}])&&d(t.prototype,i),a&&d(t,a),Object.defineProperty(t,"prototype",{writable:!1}),l}(n.default.Component);v.propTypes=p,v.defaultProps={responsiveTo:"parent"};t.default=v},87462:function(e,t,i){function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},a.apply(this,arguments)}i.d(t,{Z:function(){return a}})},44925:function(e,t,i){function a(e,t){if(null==e)return{};var i,a,n=function(e,t){if(null==e)return{};var i,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)i=o[a],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)i=o[a],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}i.d(t,{Z:function(){return a}})}}]);