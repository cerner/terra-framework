"use strict";(self.webpackChunkterra_framework=self.webpackChunkterra_framework||[]).push([[99722],{99722:function(e,t,n){var r=n(64836),l=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(10434)),o=r(n(861)),u=r(n(27424)),d=w(n(67294)),i=r(n(45697)),c=n(25387),f=w(n(51051)),s=r(n(47166)),m=r(n(29270)),b=w(n(12810)),p=r(n(99254)),E=n(28409),g=r(n(98834));n(11710);var h=r(n(36199));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=l(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var v=s.default.bind(h.default),y={ariaLabelledBy:i.default.string,ariaLabel:i.default.string,id:i.default.string.isRequired,isStriped:i.default.bool,rows:i.default.arrayOf(p.default),pinnedColumns:i.default.arrayOf(E.columnShape),overflowColumns:i.default.arrayOf(E.columnShape),defaultColumnWidth:i.default.number,columnHeaderHeight:i.default.string,rowHeight:i.default.string,rowHeaderIndex:g.default,onColumnResize:i.default.func,onCellSelect:i.default.func,onColumnSelect:i.default.func,onClearSelection:i.default.func,onRangeSelection:i.default.func,hasSelectableRows:i.default.bool},C=(0,c.injectIntl)((function(e){var t=e.id,n=e.ariaLabelledBy,r=e.ariaLabel,l=e.rows,a=e.pinnedColumns,i=e.overflowColumns,c=e.onColumnResize,s=e.defaultColumnWidth,p=e.columnHeaderHeight,E=e.rowHeight,g=e.onColumnSelect,h=e.onCellSelect,_=e.onClearSelection,w=e.onRangeSelection,y=e.hasSelectableRows,C=e.rowHeaderIndex,R=(0,d.useRef)(),N=(0,d.useRef)(),S=(0,d.useRef)(!0),O=(0,d.useRef)(0),H=(0,d.useRef)(0),I=(0,d.useState)(null),x=(0,u.default)(I,2),D=x[0],k=x[1],P=function(e,t,n){k(null),O.current=e,H.current=t;var r=R.current.rows[e].cells[t];if(y&&0===t&&r.getElementsByTagName("input").length>0){var l=r.getElementsByTagName("input");r=(0,u.default)(l,1)[0]}n&&r.focus()};(0,d.useImperativeHandle)(e.focusFuncRef,(function(){return{setFocusedRowCol:P,getFocusedCell:function(){return{row:O.current,col:H.current}}}}),[H.current,O.current]),(0,d.useEffect)((function(){if(N){var e=N.current.getElementsByTagName("table")[0];R.current=e}}),[N]);var K=(0,d.useCallback)((function(e,t){O.current=0,H.current=t.col,g&&g(e)}),[g]),A=(0,d.useCallback)((function(e){O.current=e.rowIndex,H.current=e.columnIndex,h&&h(e)}),[h]);return d.default.createElement("div",{tabIndex:0,ref:N,onKeyDown:function(e){var n={row:O.current,col:H.current},r=n.row,u=n.col,d=e.target;if(e.keyCode===f.KEY_TAB||!(function(e){if("input"===e.tagName.toLowerCase()){var t=e.type;return["text","password","number","email","tel","url","search","date","datetime","datetime-local","time","month","week"].indexOf(t)>=0}return!1}(d)||["textarea","select"].indexOf(d.tagName.toLowerCase())>=0||d.hasAttribute("contentEditable")&&!1!==d.getAttribute("contentEditable"))){var i=R.current.tHead.rows[0].cells;switch(e.keyCode){case f.KEY_UP:r-=1;break;case f.KEY_DOWN:r+=1;break;case f.KEY_LEFT:e.metaKey?(u=0,e.ctrlKey&&(r=1)):u-=1;break;case f.KEY_RIGHT:e.metaKey?(u=i.length-1,e.ctrlKey&&(r=l.length)):u=Math.min(u+1,i.length-1);break;case f.KEY_HOME:u=0,e.ctrlKey&&(r=1);break;case f.KEY_END:u=i.length-1,e.ctrlKey&&(r=l.length);break;case f.KEY_ESCAPE:return _&&_(),void e.preventDefault();case f.KEY_TAB:return function(e){var n=(0,o.default)(document.body.querySelectorAll("".concat("a[href]:not([tabindex='-1']), area[href]:not([tabindex='-1']), input:not([disabled]):not([tabindex='-1']), select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']), iframe:not([tabindex='-1']), [tabindex]:not([tabindex='-1']), [contentEditable=true]:not([tabindex='-1'])"))).filter((function(e){return!(e.hasAttribute("disabled")||e.getAttribute("aria-hidden")||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)||"hidden"===window.getComputedStyle(e).visibility||null!==e.closest("[inert]")||e.id!==t&&R.current.contains(e))})),r=n.indexOf(N.current);if(r>-1){var l,a=e?1:-1;r+a<n.length?l=n[r+a]:n[0].id!==t&&(l=n[0]),l&&l.focus()}}(!e.shiftKey),void e.preventDefault();default:return}w&&e.shiftKey&&(e.keyCode===f.KEY_UP||e.keyCode===f.KEY_DOWN)&&w(n.row,n.col,e.keyCode),r>l.length||u>=R.current.rows[0].cells.length||u<0||r<0||function(e,t){var n=R.current.rows,r=N.current.firstChild,l=r.getBoundingClientRect(),o=n[t.row].cells[t.col].getBoundingClientRect();if(o.right>l.right)r.scrollBy(o.right-l.right,0);else if(y||a.length){var u=y?1:0,d=a.length-1+u,i=n[0].cells[d].getBoundingClientRect();t.col>d&&o.left<i.right?r.scrollBy(o.left-i.right,0):t.col>d&&o.right<i.left&&r.scrollBy(o.right-i.left,0)}else o.left<l.left&&r.scrollBy(o.left-l.left,0);var c=n[0].cells[t.col].getBoundingClientRect(),f=o.top-c.bottom;f<0&&r.scrollBy(0,f),P(t.row,t.col,!0)}(0,{row:r,col:u}),e.preventDefault()}},onMouseDown:function(){S.current=!1},onFocus:function(e){e.currentTarget.contains(e.relatedTarget)||S.current&&P(O.current,H.current,!0),S.current=!0},className:v("data-grid-container")},d.default.createElement(b.GridContext.Provider,{value:{role:"grid"}},d.default.createElement(b.default,{id:t,rows:l,ariaLabelledBy:n,ariaLabel:r,pinnedColumns:a,overflowColumns:i,defaultColumnWidth:s,columnHeaderHeight:p,rowHeight:E,rowHeaderIndex:C,onColumnResize:c,onColumnSelect:K,onCellSelect:A,hasSelectableRows:y,table:!0})),d.default.createElement(m.default,{"aria-live":"polite","aria-atomic":"true",text:D}))}));C.propTypes=y,C.defaultProps={rowHeaderIndex:0,defaultColumnWidth:200,columnHeaderHeight:"2.5rem",rowHeight:"2.5rem",pinnedColumns:[],overflowColumns:[],rows:[]};t.default=(0,d.forwardRef)((function(e,t){return d.default.createElement(C,(0,a.default)({},e,{focusFuncRef:t}))}))},11710:function(){"undefined"!=typeof Element&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}))},90442:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(45697)),a=l.default.shape({content:l.default.node,isMasked:l.default.bool,isSelectable:l.default.bool,isSelected:l.default.bool});t.default=a},28409:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.columnShape=t.SortIndicators=void 0;var l=r(n(45697)),a=t.SortIndicators={ASCENDING:"ascending",DESCENDING:"descending"};t.columnShape=l.default.shape({id:l.default.string.isRequired,displayName:l.default.string,hasError:l.default.bool,isResizable:l.default.bool,isSelectable:l.default.bool,minimumWidth:l.default.number,maximumWidth:l.default.number,width:l.default.number,sortIndicator:l.default.oneOf(Object.values(a))})},99254:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(45697)),a=r(n(90442)),o=l.default.shape({id:l.default.string.isRequired,cells:l.default.arrayOf(a.default),isSelected:l.default.bool,ariaLabel:l.default.string});t.default=o},98834:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(21545));t.default=function(e){return Number.isInteger(e.rowHeaderIndex)?e.rowHeaderIndex<0?new Error(l.default.ROW_HEADER_INDEX_LESS_THAN_ZERO):e.pinnedColumns.length&&e.rowHeaderIndex>=e.pinnedColumns.length?new Error(l.default.ROW_HEADER_INDEX_EXCEEDS_PINNED):void 0:new Error(l.default.ROW_HEADER_INDEX_NOT_AN_INTEGER)}},21545:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={ROW_HEADER_INDEX_EXCEEDS_PINNED:"Prop rowHeaderIndex exceeds the size of pinnedColumns.",ROW_HEADER_INDEX_LESS_THAN_ZERO:"Prop rowHeaderIndex must be a positive integer.",ROW_HEADER_INDEX_NOT_AN_INTEGER:"Prop rowHeaderIndex must be an integer.",PINNED_COLUMNS_UNDEFINED:"To be properly accessible, the row header column should be a pinned column. please set pinned columns"};t.default=n},36199:function(e,t,n){n.r(t),t.default={"data-grid-container":"DataGrid-module__data-grid-container___4LJj1"}}}]);