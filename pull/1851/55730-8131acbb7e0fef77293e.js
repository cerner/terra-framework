"use strict";(self.webpackChunkterra_framework=self.webpackChunkterra_framework||[]).push([[55730],{85630:function(e,t,r){var n=r(64836),a=r(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(r(861)),u=n(r(38416)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=l?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(n,u,o):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(67294)),i=n(r(45697)),d=r(25387),c=n(r(47166)),f=n(r(29270)),s=n(r(99722)),m=n(r(99254)),w=r(28409),p=n(r(56323));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=c.default.bind(p.default),v={ariaLabelledBy:i.default.string,ariaLabel:i.default.string,id:i.default.string.isRequired,rows:i.default.arrayOf(m.default),columns:i.default.arrayOf(w.columnShape),defaultColumnWidth:i.default.number,columnHeaderHeight:i.default.string,rowHeight:i.default.string,onCellSelect:i.default.func,onClearSelectedCells:i.default.func,intl:i.default.shape({formatMessage:i.default.func}).isRequired};function y(e){var t=e.id,r=e.ariaLabelledBy,n=e.ariaLabel,a=e.rows,u=e.columns,i=e.defaultColumnWidth,d=e.columnHeaderHeight,c=e.rowHeight,m=e.onCellSelect,w=e.onClearSelectedCells,p=e.intl,g=(0,o.useMemo)((function(){return u.map((function(e){return h(h({},e),{},{isResizable:!1})}))}),[u]),b=g.length?[g[0]]:[],v=g.length>1?g.slice(1):[],y=(0,o.useMemo)((function(){var e=o.default.createElement(o.default.Fragment,null,o.default.createElement("span",{"aria-hidden":!0},p.formatMessage({id:"Terra.flowsheetDataGrid.no-result-display"})),o.default.createElement(f.default,{text:p.formatMessage({id:"Terra.flowsheetDataGrid.no-result"})})),t=(0,l.default)(a);return t.forEach((function(r,n){var a=(0,l.default)(r.cells);a.forEach((function(t,r){var n;null!==(n=t.content)&&""!==n&&"--"!==n||0===r||(a[r].content=e)})),t[n].cells=a})),t}),[p,a]);return o.default.createElement("div",{className:C("flowsheet-data-grid-container")},o.default.createElement(s.default,{id:t,ariaLabel:n,ariaLabelledBy:r,rows:y,rowHeight:c,rowHeaderIndex:0,pinnedColumns:b,overflowColumns:v,defaultColumnWidth:i,columnHeaderHeight:d,onCellSelect:m,onClearSelectedCells:w}))}y.propTypes=v,y.defaultProps={defaultColumnWidth:200,columnHeaderHeight:"2.5rem",rowHeight:"2.5rem",rows:[],columns:[]};t.default=(0,d.injectIntl)(y)},51415:function(e,t,r){var n=r(64836),a=r(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(r(861)),u=n(r(27424)),o=v(r(67294)),i=n(r(45697)),d=r(25387),c=n(r(47166)),f=v(r(51051)),s=n(r(29270)),m=n(r(99254)),w=r(28409),p=n(r(98834)),g=n(r(29877)),b=n(r(99722)),h=r(18952);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(C=function(e){return e?r:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=C(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=l?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(n,u,o):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}var y=c.default.bind(g.default),O={ariaLabelledBy:i.default.string,ariaLabel:i.default.string,id:i.default.string.isRequired,rows:i.default.arrayOf(m.default),pinnedColumns:i.default.arrayOf(w.columnShape),overflowColumns:i.default.arrayOf(w.columnShape),defaultColumnWidth:i.default.number,columnHeaderHeight:i.default.string,rowHeight:i.default.string,rowHeaderIndex:p.default,onColumnResize:i.default.func,onCellSelect:i.default.func,onRowSelect:i.default.func,onRowSelectAll:i.default.func,onColumnSelect:i.default.func,onClearSelectedRows:i.default.func,onClearSelectedCells:i.default.func,onDisableSelectableRows:i.default.func,onEnableRowSelection:i.default.func,hasSelectableRows:i.default.bool,intl:i.default.shape({formatMessage:i.default.func}).isRequired};function S(e){var t,r=e.id,n=e.ariaLabelledBy,a=e.ariaLabel,i=e.rows,d=e.pinnedColumns,c=e.overflowColumns,m=e.onColumnResize,w=e.defaultColumnWidth,p=e.columnHeaderHeight,g=e.rowHeight,C=e.onColumnSelect,v=e.onCellSelect,O=e.onRowSelect,S=e.onRowSelectAll,k=e.onClearSelectedRows,_=e.onClearSelectedCells,j=e.onDisableSelectableRows,D=e.onEnableRowSelection,H=e.hasSelectableRows,M=e.intl,R=e.rowHeaderIndex,P=(0,o.useRef)(!1),E=(0,o.useRef)([]),I=(0,o.useState)(null),x=(0,u.default)(I,2),G=x[0],W=x[1],L=(0,o.useState)(null),T=(0,u.default)(L,2),B=T[0],K=T[1],F=(0,o.useRef)(!1),q=(0,o.useRef)({start:null,end:null}),z=(0,o.useRef)(),Y=(0,o.useRef)(!1),A=null===(t=document.getElementById("".concat(r,"-worklist-data-grid-container")))||void 0===t?void 0:t.contains(document.activeElement);(0,o.useEffect)((function(){if(P.current){if(H||(q.current={},E.current=[]),K(M.formatMessage({id:H?"Terra.worklistDataGrid.row-selection-mode-enabled":"Terra.worklistDataGrid.row-selection-mode-disabled"})),Y.current){var e=z.current.getFocusedCell();e={row:e.row,col:Math.max(e.col+(H?1:-1),0)},z.current.setFocusedRowCol(e.row,e.col,A)}}else P.current=!0}),[H]),(0,o.useEffect)((function(){var e=(0,l.default)(E.current);if(E.current=i.filter((function(e){return e.isSelected})).map((function(e){return e.id})),e.length>0&&0===E.current.length)W(M.formatMessage({id:"Terra.worklistDataGrid.all-rows-unselected"}));else if(E.current.length===i.length)W(M.formatMessage({id:"Terra.worklistDataGrid.all-rows-selected"}));else{var t=E.current.filter((function(t){return!e.includes(t)})),r=e.filter((function(e){return!E.current.includes(e)})),n="";if(1===t.length){var a=i.findIndex((function(e){return e.id===t[0]})),u=i[a].ariaLabel||a+2;n=M.formatMessage({id:"Terra.worklistDataGrid.row-selection-template"},{row:u})}else t.length>1&&(n=M.formatMessage({id:"Terra.worklistDataGrid.multiple-rows-selected"},{rowCount:t.length}));if(1===r.length){var o=i.findIndex((function(e){return e.id===r[0]})),d=i[o].ariaLabel||o+2;n+=M.formatMessage({id:"Terra.worklistDataGrid.row-selection-cleared-template"},{row:d})}else r.length>1&&(n+=M.formatMessage({id:"Terra.worklistDataGrid.multiple-rows-unselected"},{rowCount:r.length}));n&&W(n)}}),[M,i]);var N=(0,o.useCallback)((function(){H?(q.current={},i.some((function(e){return e.isSelected}))?k&&k():j&&j()):_&&_()}),[H,_,k,j,i]),U=(0,o.useCallback)((function(e){var t=[];return q.current.end?(q.current.start>q.current.end?e>q.current.end&&(t=i.slice(q.current.end-1,Math.min(e,q.current.start)-1).map((function(e){return{id:e.id,selected:!1}}))):q.current.start<q.current.end&&e<q.current.end&&(t=i.slice(Math.max(q.current.start,e),q.current.end).map((function(e){return{id:e.id,selected:!1}}))),t):t}),[i]),J=(0,o.useCallback)((function(e){if(H||D(),O){var t=Math.min(q.current.start,e),r=Math.max(q.current.start,e),n=i.slice(t-1,r).map((function(e){return{id:e.id,selected:!0}}));n=n.concat(U(e)),O(n),q.current.end=e}}),[H,D,O,i,U]),Q=(0,o.useCallback)((function(e,t){var r=[];i[t-1].isSelected?(t===q.current.start&&(q.current={}),r.push({id:e,selected:!1})):(q.current={start:t,end:null},r.push({id:e,selected:!0})),O&&O(r)}),[O,i]),V=(0,o.useCallback)((function(e,t,r){var n=e;r===f.KEY_UP?0===(n-=1)&&(n=1):r===f.KEY_DOWN&&(n+=1),F.current||(F.current=!0,q.current={start:e,end:null}),J(n)}),[J]),X=(0,o.useCallback)((function(e){H?e.isShiftPressed&&q.current.start?J(e.rowIndex):Q(e.rowId,e.rowIndex):e.isShiftPressed&&(q.current={start:e.rowIndex,end:null},J(e.rowIndex))}),[H,J,Q]),Z=(0,o.useCallback)((function(e){H||e.isShiftPressed?X(e):e.isCellSelectable&&v&&v(e.rowId,e.columnId)}),[X,H,v]);return o.default.createElement("div",{id:"".concat(r,"-worklist-data-grid-container"),onKeyDown:function(e){if(e.keyCode===f.KEY_A)H&&(e.ctrlKey||e.metaKey)&&(S&&S(),e.preventDefault())},onKeyUp:function(e){if(e.keyCode===f.KEY_SHIFT)F.current=!1},className:y("worklist-data-grid-container"),onFocus:Y.current?void 0:function(){Y.current=!0}},o.default.createElement(b.default,{id:r,ariaLabel:a,ariaLabelledBy:n,rows:i.map((function(e){return(0,h.mapDataGridRow)(e)})),rowHeight:g,rowHeaderIndex:R,pinnedColumns:d.map((function(e){return(0,h.mapDataGridColumn)(e)})),overflowColumns:c.map((function(e){return(0,h.mapDataGridColumn)(e)})),defaultColumnWidth:w,columnHeaderHeight:p,onColumnSelect:C,onColumnResize:m,onCellSelect:Z,onClearSelection:N,onRangeSelection:V,hasSelectableRows:H,ref:z}),o.default.createElement(s.default,{"aria-live":"polite",text:B}),o.default.createElement(s.default,{"aria-live":"polite",text:G}))}S.propTypes=O,S.defaultProps={rowHeaderIndex:0,defaultColumnWidth:200,columnHeaderHeight:"2.5rem",rowHeight:"2.5rem",pinnedColumns:[],overflowColumns:[],rows:[]};t.default=(0,d.injectIntl)(S)},55730:function(e,t,r){var n=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FlowsheetDataGrid",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"WorklistDataGrid",{enumerable:!0,get:function(){return a.default}});var a=n(r(51415)),l=n(r(85630))},56323:function(e,t,r){r.r(t),t.default={"flowsheet-data-grid-container":"FlowsheetDataGrid-module__flowsheet-data-grid-container___O1y8B"}},29877:function(e,t,r){r.r(t),t.default={"worklist-data-grid-container":"WorklistDataGrid-module__worklist-data-grid-container___IbMs4"}}}]);