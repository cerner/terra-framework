"use strict";(self.webpackChunkterra_framework=self.webpackChunkterra_framework||[]).push([[99722],{99722:function(e,t,n){var a=n(64836),r=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(10434)),o=a(n(861)),u=a(n(27424)),i=v(n(67294)),d=a(n(45697)),c=n(25387),f=a(n(47166)),s=v(n(51051)),m=v(n(12810)),b=a(n(29270)),E=a(n(99254)),_=n(28409),h=a(n(86843)),p=a(n(98834)),g=a(n(36199));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}n(11710);var C=f.default.bind(g.default),y={ariaLabelledBy:d.default.string,ariaLabel:d.default.string,id:d.default.string.isRequired,rows:d.default.arrayOf(E.default),pinnedColumns:d.default.arrayOf(_.columnShape),overflowColumns:d.default.arrayOf(_.columnShape),defaultColumnWidth:d.default.number,columnHeaderHeight:d.default.string,rowHeight:d.default.string,rowHeaderIndex:p.default,onColumnResize:d.default.func,onCellSelect:d.default.func,onColumnSelect:d.default.func,onClearSelection:d.default.func,onRangeSelection:d.default.func,hasSelectableRows:d.default.bool},O=(0,c.injectIntl)((function(e){var t=e.id,n=e.ariaLabelledBy,a=e.ariaLabel,r=e.rows,l=e.pinnedColumns,d=e.overflowColumns,c=e.onColumnResize,f=e.defaultColumnWidth,E=e.columnHeaderHeight,_=e.rowHeight,p=e.onColumnSelect,g=e.onCellSelect,w=e.onClearSelection,v=e.onRangeSelection,y=e.hasSelectableRows,O=e.rowHeaderIndex,S=(y?[h.default.ROW_SELECTION_COLUMN]:[]).concat(l).concat(d),N=(0,i.useRef)(),R=(0,i.useRef)(),I=(0,i.useRef)(!0),D=(0,i.useState)(0),H=(0,u.default)(D,2),x=H[0],k=H[1],P=(0,i.useState)(0),K=(0,u.default)(P,2),L=K[0],M=K[1],T=(0,i.useState)(null),W=(0,u.default)(T,2),A=W[0],j=W[1],B=function(e,t,n){j(null),k(e),M(t);var a,r=N.current.rows[e].cells[t];if(a=t,y&&a<S.length&&S[a].id===h.default.ROW_SELECTION_COLUMN.id&&r.getElementsByTagName("input").length>0){var l=r.getElementsByTagName("input");r=(0,u.default)(l,1)[0]}n&&r.focus()};(0,i.useImperativeHandle)(e.focusFuncRef,(function(){return{setFocusedRowCol:B,getFocusedCell:function(){return{row:x,col:L}}}}),[L,x]),(0,i.useEffect)((function(){var e=R.current.getElementsByTagName("table"),t=(0,u.default)(e,1)[0];N.current=t}),[R]);var Y=(0,i.useCallback)((function(e){var t=S.findIndex((function(t){return t.id===e}));k(0),M(t),p&&p(e)}),[p,S]),G=(0,i.useCallback)((function(e){k(e.rowIndex),M(e.columnIndex),g&&g(e)}),[g]);return i.default.createElement("div",{tabIndex:0,ref:R,onKeyDown:function(e){var n={row:x,col:L},a=n.row,u=n.col,i=e.target;if(e.keyCode===s.KEY_TAB||!(function(e){if("input"===e.tagName.toLowerCase()){var t=e.type;return["text","password","number","email","tel","url","search","date","datetime","datetime-local","time","month","week"].indexOf(t)>=0}return!1}(i)||["textarea","select"].indexOf(i.tagName.toLowerCase())>=0||i.hasAttribute("contentEditable")&&!1!==i.getAttribute("contentEditable"))){switch(e.keyCode){case s.KEY_UP:a-=1;break;case s.KEY_DOWN:a+=1;break;case s.KEY_LEFT:e.metaKey?(u=0,e.ctrlKey&&(a=1)):u-=1;break;case s.KEY_RIGHT:e.metaKey?(u=S.length-1,e.ctrlKey&&(a=r.length)):u+=1;break;case s.KEY_HOME:u=0,e.ctrlKey&&(a=1);break;case s.KEY_END:u=S.length-1,e.ctrlKey&&(a=r.length);break;case s.KEY_ESCAPE:return w&&w(),void e.preventDefault();case s.KEY_TAB:return function(e){var n=(0,o.default)(document.body.querySelectorAll("".concat("a[href]:not([tabindex='-1']), area[href]:not([tabindex='-1']), input:not([disabled]):not([tabindex='-1']), select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']), iframe:not([tabindex='-1']), [tabindex]:not([tabindex='-1']), [contentEditable=true]:not([tabindex='-1'])"))).filter((function(e){return!(e.hasAttribute("disabled")||e.getAttribute("aria-hidden")||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)||"hidden"===window.getComputedStyle(e).visibility||null!==e.closest("[inert]")||e.id!==t&&N.current.contains(e))})),a=n.indexOf(R.current);if(a>-1){var r,l=e?1:-1;a+l<n.length?r=n[a+l]:n[0].id!==t&&(r=n[0]),r&&r.focus()}}(!e.shiftKey),void e.preventDefault();default:return}v&&e.shiftKey&&(e.keyCode===s.KEY_UP||e.keyCode===s.KEY_DOWN)&&v(n.row,n.col,e.keyCode),a>r.length||u>=S.length||u<0||a<0||function(e,t){var n=R.current.firstChild,a=n.getBoundingClientRect(),r=N.current.rows[0].cells[t.col].getBoundingClientRect(),o=N.current.rows[t.row].cells[t.col].getBoundingClientRect();if(o.right>a.right)n.scrollBy(o.right-a.right,0);else{var u=0;if(l.length>0||y){var i=y?1:0,d=l.length-1+i;if(t.col>d){var c=N.current.rows[t.row].cells[d].getBoundingClientRect();u=o.left-c.right}}else u=o.left-a.left;u<0&&n.scrollBy(u,0)}var f=o.top-r.bottom;f<0&&n.scrollBy(0,f),B(t.row,t.col,!0)}(0,{row:a,col:u}),e.preventDefault()}},onMouseDown:function(){I.current=!1},onFocus:function(e){e.currentTarget.contains(e.relatedTarget)||I.current&&B(x,L,!0),I.current=!0},className:C("data-grid-container")},i.default.createElement(m.GridContext.Provider,{value:{role:"grid",setCellAriaLiveMessage:j}},i.default.createElement(m.default,{id:t,rows:r,ariaLabelledBy:n,ariaLabel:a,pinnedColumns:l,overflowColumns:d,defaultColumnWidth:f,columnHeaderHeight:E,rowHeight:_,rowHeaderIndex:O,onColumnResize:c,onColumnSelect:Y,onCellSelect:G,hasSelectableRows:y,isStriped:!0})),i.default.createElement(b.default,{"aria-live":"polite","aria-atomic":"true",text:A}))}));O.propTypes=y,O.defaultProps={rowHeaderIndex:0,defaultColumnWidth:200,columnHeaderHeight:"2.5rem",rowHeight:"2.5rem",pinnedColumns:[],overflowColumns:[],rows:[]};t.default=(0,i.forwardRef)((function(e,t){return i.default.createElement(O,(0,l.default)({},e,{focusFuncRef:t}))}))},11710:function(){"undefined"!=typeof Element&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}))},90442:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(45697)),l=r.default.shape({content:r.default.node,isMasked:r.default.bool,isSelectable:r.default.bool,isSelected:r.default.bool});t.default=l},28409:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.columnShape=t.SortIndicators=void 0;var r=a(n(45697)),l=t.SortIndicators={ASCENDING:"ascending",DESCENDING:"descending"};t.columnShape=r.default.shape({id:r.default.string.isRequired,displayName:r.default.string,hasError:r.default.bool,isResizable:r.default.bool,isSelectable:r.default.bool,minimumWidth:r.default.number,maximumWidth:r.default.number,width:r.default.number,sortIndicator:r.default.oneOf(Object.values(l))})},99254:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(45697)),l=a(n(90442)),o=r.default.shape({id:r.default.string.isRequired,cells:r.default.arrayOf(l.default),isSelected:r.default.bool,ariaLabel:r.default.string});t.default=o},98834:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(21545));t.default=function(e){return Number.isInteger(e.rowHeaderIndex)?e.rowHeaderIndex<0?new Error(r.default.ROW_HEADER_INDEX_LESS_THAN_ZERO):e.pinnedColumns.length&&e.rowHeaderIndex>=e.pinnedColumns.length?new Error(r.default.ROW_HEADER_INDEX_EXCEEDS_PINNED):void 0:new Error(r.default.ROW_HEADER_INDEX_NOT_AN_INTEGER)}},86843:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={ROW_SELECTION_COLUMN:{id:"table-rowSelectionColumn",width:40,isSelectable:!0,isResizable:!1}};t.default=n},21545:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={ROW_HEADER_INDEX_EXCEEDS_PINNED:"Prop rowHeaderIndex exceeds the size of pinnedColumns.",ROW_HEADER_INDEX_LESS_THAN_ZERO:"Prop rowHeaderIndex must be a positive integer.",ROW_HEADER_INDEX_NOT_AN_INTEGER:"Prop rowHeaderIndex must be an integer.",PINNED_COLUMNS_UNDEFINED:"To be properly accessible, the row header column should be a pinned column. please set pinned columns"};t.default=n},36199:function(e,t,n){n.r(t),t.default={"orion-fusion-theme":"DataGrid-module__orion-fusion-theme___yhybH","clinical-lowlight-theme":"DataGrid-module__clinical-lowlight-theme___OufgK","data-grid-container":"DataGrid-module__data-grid-container___4LJj1"}}}]);