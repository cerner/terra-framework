"use strict";(self.webpackChunkterra_framework=self.webpackChunkterra_framework||[]).push([[43128],{81087:function(e,t,l){var r=l(64836),a=l(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(l(10434)),u=r(l(861)),i=r(l(27424)),o=r(l(70215)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var l=P(t);if(l&&l.has(e))return l.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=n?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,l&&l.set(e,r);return r}(l(67294)),s=l(51051),d=r(l(94184)),f=r(l(47166)),p=r(l(45697)),b=r(l(32018)),m=r(l(47341)),v=l(25387),_=r(l(71171)),y=r(l(42518)),g=r(l(78571)),h=r(l(71797)),C=r(l(35307)),E=["ariaLabel","ariaLabelledBy","ariaDescribedBy","children","intl","isCollapsible","onRemove"];function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(P=function(e){return e?l:t})(e)}var R=f.default.bind(C.default),S={ariaLabel:p.default.string.isRequired,ariaLabelledBy:p.default.string,ariaDescribedBy:p.default.string,children:p.default.node,isCollapsible:p.default.bool,onRemove:p.default.func,intl:p.default.shape({formatMessage:p.default.func}).isRequired},w=function(e){var t=e.ariaLabel,l=e.ariaLabelledBy,r=e.ariaDescribedBy,a=e.children,f=e.intl,p=e.isCollapsible,v=e.onRemove,C=(0,o.default)(e,E),P=c.default.useContext(m.default),S=(0,c.useState)("-1"),w=(0,i.default)(S,2),k=w[0],A=w[1],N=(0,c.useState)(c.default.Children.count(a)),M=(0,i.default)(N,2),O=M[0],D=M[1],j=(0,c.useState)(c.default.Children.count(a)),T=(0,i.default)(j,2),x=T[0],q=T[1],I=(0,c.useState)(p),K=(0,i.default)(I,2),L=K[0],W=K[1],B=(0,c.useState)(!1),U=(0,i.default)(B,2),Y=U[0],V=U[1],F=(0,c.useState)(!1),H=(0,i.default)(F,2),G=H[0],Q=H[1],J=(0,c.useRef)(),z=(0,c.useRef)(),X=(0,c.useRef)(0),Z=(0,c.useRef)(!1),$=(0,c.useRef)(!1),ee=(0,c.useRef)(),te=(0,c.useRef)(t),le=(0,c.useCallback)((function(){var e=g.default.getRollUpIndex(z);L?(D(e),q(c.default.Children.count(a)-e)):e===c.default.Children.count(a)&&q(0)}),[a,L]),re=function(e){var t=J.current?z.current.querySelector("#".concat(J.current)):null;t&&t.setAttribute("tabIndex",e)},ae=function(){var e=J.current?z.current.querySelector("#".concat(J.current)):null;e&&e.focus()},ne=function(){A("0"),z.current.focus()},ue=(0,c.useCallback)((function(){var e=(0,u.default)(z.current.querySelectorAll("[data-terra-pill]")),t=z.current.querySelector("[data-terra-rollup-pill]");t&&g.default.setRollUpPillTabIndex(t,"-1"),e.length>0&&X.current<e.length?(g.default.setPillsTabIndex(e,"-1"),J.current=e[X.current].id,re("0")):p&&L&&t&&(J.current=t.getAttribute("id"),re("0"))}),[L,p]),ie=(0,c.useCallback)((function(){var e=(0,u.default)(z.current.querySelectorAll("[data-terra-pill]"));p&&!L&&e.length>0&&e.length===c.default.Children.count(a)&&(re("-1"),J.current=e[X.current].id,re("0"),$.current&&(ae(),$.current=!1))}),[a,L,p]),oe=(0,c.useCallback)((function(){var e=(0,u.default)(z.current.querySelectorAll("[data-terra-pill]")),t=z.current.querySelector("[data-terra-rollup-pill]"),l=g.default.getRollUpIndex(z);if(Z.current){if(c.default.Children.count(a)<=0)return void ne();t&&g.default.setRollUpPillTabIndex(t,"-1"),e.length>0&&g.default.setPillsTabIndex(e,"-1"),e.length===l||t&&l>=1?J.current=e[X.current].id:t&&(J.current=t.getAttribute("id")),re("0"),ae(),Z.current=!1}}),[a]),ce=(0,c.useCallback)((function(e){Array.isArray(e)&&(D(c.default.Children.count(a)),q(c.default.Children.count(a)),p&&le(),ue(),ie(),oe())}),[a,p,ue,ie,oe,le]);(0,c.useLayoutEffect)((function(){var e=new b.default((function(e){ce(e)}));return e.observe(z.current.parentNode),function(){e.disconnect(),e=null}}),[a,ce]);var se=function(e,t,l){var r=(0,u.default)(z.current.querySelectorAll("[data-terra-pill]")),a=l.target.parentElement.getAttribute("id"),n=r.findIndex((function(e){return e.id===a}));"click"===l.type&&(r.length>1&&(re("-1"),X.current=0===n?0:n-1,re("0")),V(!0)),ne(),v&&v(e,t)},de=function(e){e.current&&e.current.children.length>0&&(ee.current=e.current.children[0].innerText)},fe={};fe.onKeyDown=function(e){var t=(0,u.default)(z.current.querySelectorAll("[data-terra-pill]")),l=z.current.querySelector("[data-terra-rollup-pill]");switch(V(!1),Q(!1),e.keyCode){case s.KEY_RIGHT:e.preventDefault(),function(e,t){var l=t?t.getAttribute("id"):null;X.current+1<=e.length&&(re("-1"),t&&X.current+1===e.length?J.current=l:X.current+1<e.length&&(X.current+=1,J.current=a[X.current].props.id),re("0"),ae())}(t,l);break;case s.KEY_LEFT:e.preventDefault(),function(e,t){var l=t?t.getAttribute("id"):null;(J.current===l||X.current>=1)&&(re("-1"),t&&J.current===l?(X.current=e.length-1,J.current=a[X.current].props.id):(X.current-=1,J.current=a[X.current].props.id),re("0"),ae())}(t,l);break;case s.KEY_BACK_SPACE||s.KEY_DELETE:e.preventDefault(),function(e){c.default.Children.count(a)>0&&e.length-1<c.default.Children.count(a)&&(V(!0),ee.current=e[X.current].children[0].innerText,re("-1"),X.current>0&&(X.current-=1),D(c.default.Children.count(a)),Z.current=!0)}(t);break;case s.KEY_HOME:e.preventDefault(),re("-1"),X.current=0,J.current=t[X.current].id,re("0"),ae();break;case s.KEY_END:e.preventDefault(),re("-1"),X.current=t.length-1,J.current=t[X.current].id,re("0"),ae()}},fe.onBlur=function(){return A("-1")};var pe=(0,d.default)(R(["pills-group",P.className]),C.className),be="terra-pills-group-interaction-hint-".concat((0,_.default)()),me="",ve=r?"".concat(r," ").concat(be):be,_e=f.formatMessage({id:"Terra.pills.hint.pillList"},{numberOfPills:c.default.Children.count(a)});p&&x>0&&L?_e+=", ".concat(f.formatMessage({id:"Terra.pills.hint.rollupNotVisible"},{pillsNotVisibleCount:x})):p&&!L&&G&&(me=f.formatMessage({id:"Terra.pills.hint.rollupVisible"})),Y&&(me=f.formatMessage({id:"Terra.pills.hint.wasRemoved"},{pillLabelName:ee.current}));var ye;return c.default.createElement("div",(0,n.default)({},C,fe,{"aria-live":"assertive","aria-label":l?void 0:"".concat(me," ").concat(te.current),"aria-labelledby":l,"aria-describedby":ve,className:pe,ref:z,role:"list",tabIndex:k}),c.default.createElement(y.default,{"aria-live":"polite",id:be,text:_e,"aria-hidden":"true"}),a?(ye=a,c.default.Children.map(ye,(function(e){if(c.default.isValidElement(e))return c.default.cloneElement(e,{onRemove:se,onSelect:de})})).splice(0,O)):[],p&&x>0&&c.default.createElement(h.default,{isCollapsed:L,onSelectRollUp:function(e){var t=(0,u.default)(z.current.querySelectorAll("[data-terra-pill]"));p&&L?"keydown"===e.type?($.current=!0,X.current=t.length):(re("-1"),X.current=t.length):Q(!1),W(!L)},rollupCount:x}))};w.defaultProps={isCollapsible:!1},w.propTypes=S;var k=(0,v.injectIntl)(w);t.default=k},78571:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l={getRollUpIndex:function(e){var t,l=e.current.querySelector("[data-terra-rollup-pill]"),r=e.current.querySelectorAll("[data-terra-pill]"),a=e.current.offsetWidth,n=0,u=0,i=0;l&&(i=function(e){return e.parentElement.offsetWidth+parseFloat(window.getComputedStyle(e.parentElement,null).getPropertyValue("margin-right"),10)}(l));for(var o=0;o<r.length&&!(n>=a);o+=1){var c=(t=r[o]).offsetWidth+parseFloat(window.getComputedStyle(t,null).getPropertyValue("margin-right"),10);c+n+i<a&&(u=o+1),n+=c}return u},setPillsTabIndex:function(e,t){for(var l=0;l<e.length;l+=1)e[l].setAttribute("tabindex",t)},setRollUpPillTabIndex:function(e,t){e.setAttribute("tabindex",t)}};t.default=l},43128:function(e,t,l){var r=l(64836);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Pill",{enumerable:!0,get:function(){return n.default}}),t.default=void 0;var a=r(l(81087)),n=r(l(16315)),u=a.default;t.default=u},16315:function(e,t,l){var r=l(64836),a=l(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(l(10434)),u=r(l(27424)),i=r(l(70215)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var l=g(t);if(l&&l.has(e))return l.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=n?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,l&&l.set(e,r);return r}(l(67294)),c=l(51051),s=l(25387),d=r(l(45697)),f=r(l(94184)),p=r(l(47166)),b=r(l(92306)),m=r(l(32018)),v=r(l(47341)),_=r(l(35307)),y=["label","labelCategory","id","intl","metaData","onRemove","title","onSelect"];function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(g=function(e){return e?l:t})(e)}var h=p.default.bind(_.default),C={id:d.default.string.isRequired,label:d.default.string.isRequired,labelCategory:d.default.string,metaData:d.default.object,intl:d.default.shape({formatMessage:d.default.func}).isRequired,onRemove:d.default.func,title:d.default.string},E=function(e){var t=e.label,l=e.labelCategory,r=e.id,a=e.intl,s=e.metaData,d=e.onRemove,p=e.title,_=e.onSelect,g=(0,i.default)(e,y),C=o.default.useContext(v.default),E=(0,o.useRef)(),P=(0,o.useState)(!1),R=(0,u.default)(P,2),S=R[0],w=R[1],k=(0,o.useState)(!1),A=(0,u.default)(k,2),N=A[0],M=A[1],O=(0,o.useCallback)((function(){E.current.firstElementChild.scrollWidth>E.current.firstElementChild.clientWidth?w(!0):w(!1)}),[]),D=(0,o.useCallback)((function(e){Array.isArray(e)&&O()}),[O]);(0,o.useLayoutEffect)((function(){var e=new m.default((function(e){D(e)}));return e.observe(E.current.parentNode),function(){e.disconnect(),e=null}}),[O,D]);var j=function(){M(!1),E.current.setAttribute("aria-expanded",!1)},T=function(){return E.current},x={};x.isSelectable=S,x.isRemovable=d,x.isSelectableAndRemovable=d&&S;var q={},I=l?"".concat(l,": ").concat(t):t;q.title=p||(S?I:void 0),(x.isSelectable||x.isRemovable)&&(q.tabIndex="0",q.onKeyDown=function(e){E.current.setAttribute("data-terra-pills-show-focus-styles","true"),e.keyCode===c.KEY_RETURN||e.keyCode===c.KEY_SPACE?(e.preventDefault(),S&&M(!0)):e.keyCode!==c.KEY_DELETE&&e.keyCode!==c.KEY_BACK_SPACE||(e.preventDefault(),d&&d(r,s,e))},q.onMouseDown=function(e){E.current.setAttribute("data-terra-pills-show-focus-styles","false"),_(E,e)},q.onBlur=function(){E.current.setAttribute("data-terra-pills-show-focus-styles","true")});var K={};x.isSelectable&&(K.onClick=function(e){e.preventDefault(),e.stopPropagation(),S&&(M(!0),E.current.setAttribute("aria-expanded",!0))});var L,W={};d&&(W.onClick=function(e){e.preventDefault(),e.stopPropagation(),d(r,s,e)}),x.isSelectableAndRemovable?L=", ".concat(a.formatMessage({id:"Terra.pills.hint.selectableAndRemovable"})):x.isSelectable?L=", ".concat(a.formatMessage({id:"Terra.pills.hint.selectable"})):x.isRemovable&&(L=", ".concat(a.formatMessage({id:"Terra.pills.hint.removable"})));var B,U=(0,f.default)(h(["pill-label",{"is-focusable":x.isSelectable||x.isRemovable},{"is-removable":x.isRemovable&&!x.isSelectableAndRemovable},{"is-selectable-and-removable":x.isSelectableAndRemovable},C.className]),g.className),Y=(0,f.default)(h(["pill","is-focusable",C.className]),g.className),V=function(){return o.default.createElement("button",(0,n.default)({},W,{className:h("pill-remove-button"),tabIndex:"-1",type:"button","aria-label":a.formatMessage({id:"Terra.pills.label.delete"},{pillLabelName:t})}),o.default.createElement("span",{className:h("clear-icon")}))};return x.isSelectable?(B=" ".concat(l||""," ").concat(t," ").concat(L),o.default.createElement(o.default.Fragment,null,o.default.createElement("div",(0,n.default)({},g,q,K,{"aria-haspopup":x.isSelectable?"dialog":void 0,id:r,className:Y,ref:E,role:"listitem","aria-label":B,"data-terra-pills-show-focus-styles":!0,"data-terra-pill":!0}),o.default.createElement("span",{className:U},l?o.default.createElement("span",{className:h("pill-category")},"".concat(l,": ")):void 0,o.default.createElement("span",null,t)),x.isRemovable&&V()),S&&o.default.createElement(b.default,{isOpen:N,isArrowDisplayed:!0,targetRef:T,onRequestClose:j,contentHeight:"auto",contentWidth:"auto"},o.default.createElement("div",{className:h(["popup-content-pill-label",C.className])},l?o.default.createElement("span",{className:h(["popup-content-pill-category",C.className])},"".concat(l,": ")):void 0,o.default.createElement("span",null,t))))):function(){var e=" ".concat(l||""," ").concat(t," ").concat(L);return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",(0,n.default)({},g,q,{id:r,className:Y,ref:E,role:"listitem","aria-label":e,"data-terra-pills-show-focus-styles":!0,"data-terra-pill":!0}),o.default.createElement("span",{className:U},l?o.default.createElement("span",{className:h("pill-category")},"".concat(l,": ")):void 0,o.default.createElement("span",null,t)),x.isRemovable&&V()))}()};E.propTypes=C;var P=(0,s.injectIntl)(E);t.default=P},71797:function(e,t,l){var r=l(64836),a=l(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var l=b(t);if(l&&l.has(e))return l.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=n?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}r.default=e,l&&l.set(e,r);return r}(l(67294)),u=l(51051),i=l(25387),o=r(l(47166)),c=r(l(45697)),s=r(l(47341)),d=r(l(71171)),f=r(l(42518)),p=r(l(35307));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(b=function(e){return e?l:t})(e)}var m=o.default.bind(p.default),v={isCollapsed:c.default.bool,onSelectRollUp:c.default.func,rollupCount:c.default.number,intl:c.default.shape({formatMessage:c.default.func}).isRequired},_=function(e){var t=e.isCollapsed,l=e.onSelectRollUp,r=e.intl,a=e.rollupCount,i=(0,n.useRef)(),o=n.default.useContext(s.default),c=t&&a>0?r.formatMessage({id:"Terra.pills.label.rollupPill"},{pillsNotVisibleCount:a}):r.formatMessage({id:"Terra.pills.label.showLess"}),p=t?r.formatMessage({id:"Terra.pills.hint.rollupPill"},{pillsNotVisibleCount:a}):r.formatMessage({id:"Terra.pills.hint.showLess"}),b="terra-rollup-pill-".concat((0,d.default)()),v="terra-rollup-pill-".concat((0,d.default)());return n.default.createElement("div",{role:"listitem",className:m("pill-list-item")},n.default.createElement("button",{id:b,className:m(["rollup-pill",o.className]),onClick:function(e){e.preventDefault(),e.stopPropagation(),l(e)},onKeyDown:function(e){i.current.setAttribute("data-terra-rollup-pill-show-focus-styles","true"),e.keyCode!==u.KEY_RETURN&&e.keyCode!==u.KEY_SPACE||(e.preventDefault(),e.stopPropagation(),l(e))},onMouseDown:function(){i.current.setAttribute("data-terra-rollup-pill-show-focus-styles","false")},onBlur:function(){i.current.setAttribute("data-terra-rollup-pill-show-focus-styles","true")},ref:i,tabIndex:"0",type:"button","aria-describedby":v,"data-terra-rollup-pill-show-focus-styles":!0,"data-terra-rollup-pill":!0},n.default.createElement("span",{className:m("rollup-pill-label")},c)),n.default.createElement(f.default,{id:v,text:p,"aria-hidden":"true"}))};_.propTypes=v;var y=(0,i.injectIntl)(_);t.default=y},35307:function(e,t,l){l.r(t),t.default={"clinical-lowlight-theme":"Pill-module__clinical-lowlight-theme___6e6Ug","orion-fusion-theme":"Pill-module__orion-fusion-theme___BcmBS","pills-group":"Pill-module__pills-group___sq89H","pill-list-item":"Pill-module__pill-list-item___k0qf6",pill:"Pill-module__pill___eeL05","is-focusable":"Pill-module__is-focusable___Q6EGN","pill-label":"Pill-module__pill-label___+br8j","pill-category":"Pill-module__pill-category___Rkjqr","is-removable":"Pill-module__is-removable___d4BHt","pill-remove-button":"Pill-module__pill-remove-button___CH1Py","clear-icon":"Pill-module__clear-icon___NvKUS","is-selectable-and-removable":"Pill-module__is-selectable-and-removable___Vo-YG","rollup-pill":"Pill-module__rollup-pill___Q+GVC","rollup-pill-label":"Pill-module__rollup-pill-label___SPSFI","popup-content-pill-label":"Pill-module__popup-content-pill-label___47C1k","popup-content-pill-category":"Pill-module__popup-content-pill-category___LSi+J"}}}]);