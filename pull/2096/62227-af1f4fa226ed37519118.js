"use strict";(self.webpackChunkterra_framework=self.webpackChunkterra_framework||[]).push([[62227],{62227:function(e,t,n){var r=n(24994),o=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ColumnHighlightColor",{enumerable:!0,get:function(){return f.ColumnHighlightColor}}),t.default=void 0;var l=r(n(41132)),a=r(n(85715)),u=r(n(43693)),i=g(n(96540)),c=r(n(5556)),d=r(n(67967)),s=g(n(25966)),f=g(n(83264)),m=r(n(30881)),b=r(n(16524)),w=r(n(78323)),h=r(n(7520));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var u=l?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,u.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(35875);var y=d.default.bind(h.default),S={ariaLabelledBy:c.default.string,ariaLabel:c.default.string,id:c.default.string.isRequired,rows:c.default.arrayOf(f.rowShape),sections:c.default.arrayOf(f.sectionShape),pinnedColumns:c.default.arrayOf(f.columnShape),overflowColumns:c.default.arrayOf(f.columnShape),tableBodyColumns:c.default.arrayOf(f.columnShape),defaultColumnWidth:c.default.number,columnHeaderHeight:c.default.string,columnResizeIncrement:c.default.number,rowHeight:c.default.string,rowHeaderIndex:f.validateRowHeaderIndex,onColumnResize:c.default.func,onCellSelect:c.default.func,onSectionSelect:c.default.func,onColumnSelect:c.default.func,onClearSelection:c.default.func,onRangeSelection:c.default.func,onRowSelectionHeaderSelect:c.default.func,onCellRangeSelect:c.default.func,hasSelectableRows:c.default.bool,hasVisibleColumnHeaders:c.default.bool,rowMinimumHeight:c.default.string,isAutoFocusEnabled:c.default.bool},E=(0,i.forwardRef)((function(e,t){var n,r=e.ariaLabel,o=e.ariaLabelledBy,u=e.columnHeaderHeight,c=e.columnResizeIncrement,d=e.defaultColumnWidth,h=e.hasVisibleColumnHeaders,p=e.hasSelectableRows,g=e.id,C=e.onCellRangeSelect,S=e.onCellSelect,E=e.onClearSelection,O=e.onColumnResize,R=e.onColumnSelect,_=e.onRangeSelection,x=e.onRowSelectionHeaderSelect,I=e.onSectionSelect,H=e.overflowColumns,k=e.pinnedColumns,K=e.tableBodyColumns,M=e.rowHeaderIndex,P=e.rowHeight,j=e.rows,A=e.sections,D=e.rowMinimumHeight,L=e.isAutoFocusEnabled,Y=(p?[w.default.ROW_SELECTION_COLUMN]:[]).concat(k).concat(H),B=K.length>0?K:Y,T=(0,i.useMemo)((function(){return j.map((function(e){return v(v({},e),{},{cells:e.cells.map((function(e){return v(v({},e),{},{isSelectable:!1!==e.isSelectable})}))})}))}),[j]),W=(0,i.useRef)(),N=(0,i.useRef)(),F=(0,i.useRef)(),G=(0,i.useRef)(!0),z=(0,i.useRef)({rowId:"",columnId:"",columnSpanIndex:""}),q=(0,i.useState)(!1),U=(0,a.default)(q,2),V=U[0],J=U[1],Q=(0,f.hasColumnActions)(k)||(0,f.hasColumnActions)(H),X=h?0:1,Z=(0,i.useState)(X),$=(0,a.default)(Z,2),ee=$[0],te=$[1],ne=(0,i.useState)(0),re=(0,a.default)(ne,2),oe=re[0],le=re[1],ae=(0,i.useState)(null),ue=(0,a.default)(ae,2),ie=ue[0],ce=ue[1],de=(0,i.useMemo)((function(){return{role:f.GridConstants.GRID,setCellAriaLiveMessage:ce,tableRef:W,tableContainerRef:F,isAutoFocusEnabled:L}}),[W,L,F]),se=(0,i.useCallback)((function(e){return p&&e<B.length&&B[e].id===w.default.ROW_SELECTION_COLUMN.id}),[B,p]),fe=(0,i.useCallback)((function(e){return W.current.rows[e].hasAttribute("data-section-id")}),[]),me=(0,i.useCallback)((function(e,t,n){var r;if(ce(null),te(e),le(t),t<B.length&&(z.current={rowId:W.current.rows[e].getAttribute("data-row-id"),columnId:B[t].id,columnSpanIndex:B[t].columnSpanIndex}),n){var o,l;if(fe(e))return(o=(0,a.default)(W.current.rows[e].cells,1)[0]).hasAttribute("tabindex")||(o=W.current.rows[e].querySelector("button")),void(null===(l=o)||void 0===l||l.focus());if(o=W.current.rows[e].cells[t],(0,m.default)(o).length>1){var u;null===(u=o)||void 0===u||u.focus()}else{var i=0===e||Q&&1===e,c=o.querySelector("a, button");if(i&&!o.hasAttribute("tabindex")||L&&c){var d;null===(d=o=o.querySelector('a, button, [role="button"]'))||void 0===d||d.focus()}else{var s,f=o.querySelector("input");if(se(t)&&f)null===(s=o=f)||void 0===s||s.focus();else null===(r=o)||void 0===r||r.focus()}}}}),[B,fe,Q,L,se]);(0,i.useImperativeHandle)(t,(function(){return{setFocusedRowCol:me,getFocusedCell:function(){return{row:ee,col:oe}},getGridRef:function(){return W.current}}}),[oe,ee]);var be=(0,i.useCallback)((function(){return me(ee,oe,!0)}),[me,ee,oe]),we=null===(n=W.current)||void 0===n?void 0:n.contains(document.activeElement),he=0===ee||Q&&1===ee;return i.default.createElement("div",{tabIndex:0,ref:N,onKeyDown:function(e){var t={row:ee,col:oe},n=t.row,r=t.col;J(!1);var o=e.target,a=e.keyCode;if(a===s.KEY_TAB||!(function(e){if("input"===e.tagName.toLowerCase()){var t=e.type;return["text","password","number","email","tel","url","search","date","datetime","datetime-local","time","month","week"].indexOf(t)>=0}return!1}(o)||["textarea","select"].indexOf(o.tagName.toLowerCase())>=0||o.hasAttribute("contentEditable")&&!1!==o.getAttribute("contentEditable")))if(a!==s.KEY_RIGHT&&a!==s.KEY_LEFT||!fe(t.row)){var u=W.current.rows.length;switch(a){case s.KEY_UP:!(0===(n-=1)||Q&&1===n)||1===t.row&&Q||(r=B[r].columnHeaderIndex);break;case s.KEY_DOWN:if(n+=1,0===t.row&&!Q||Q&&1===t.row){for(var i=0,c=0;c<t.col;c+=1)i+=Y[c].columnSpan||1;r=i}break;case s.KEY_LEFT:e.metaKey?(r=0,e.ctrlKey&&(n=1)):(r-=1,J(0===t.row||Q&&1===t.row));break;case s.KEY_RIGHT:e.metaKey?(r=B.length-1,e.ctrlKey&&(n=u-1)):r+=1;break;case s.KEY_HOME:r=0,e.ctrlKey&&(n=1);break;case s.KEY_END:r=0===n||Q&&1===n?Y.length-1:B.length-1,e.ctrlKey&&(n=u-1);break;case s.KEY_ESCAPE:return E&&E(),void e.preventDefault();case s.KEY_TAB:return function(e){var t=(0,l.default)(document.body.querySelectorAll("".concat("a[href]:not([tabindex='-1']), area[href]:not([tabindex='-1']), input:not([disabled]):not([tabindex='-1']), select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']), iframe:not([tabindex='-1']), [tabindex]:not([tabindex='-1']), [contentEditable=true]:not([tabindex='-1'])"))).filter((function(e){return!(e.hasAttribute("disabled")||e.getAttribute("aria-hidden")||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)||"hidden"===window.getComputedStyle(e).visibility||null!==e.closest("[inert]")||e.id!==g&&N.current.contains(e))})),n=t.indexOf(N.current);if(n>-1){var r,o=e?1:-1;n+o<t.length?r=t[n+o]:t[0].id!==g&&(r=t[0]),r&&r.focus()}}(!e.shiftKey),void e.preventDefault();default:return}var d=new Set([s.KEY_UP,s.KEY_DOWN]),f=new Set([s.KEY_UP,s.KEY_DOWN,s.KEY_LEFT,s.KEY_RIGHT]);_&&e.shiftKey&&d.has(e.keyCode)&&_(t.row,t.col,e.keyCode),C&&e.shiftKey&&f.has(e.keyCode)&&C(t.row,t.col,e.keyCode),n>=u||r>=B.length||r<0||n<X||function(e,t){if(!fe(t.row)){var n=F.current.getBoundingClientRect(),r=W.current.rows[0].getBoundingClientRect(),o=W.current.rows[t.row].cells[t.col].getBoundingClientRect();if(o.right>n.right)F.current.scrollBy(o.right-n.right,0);else{var l=0,a=p?1:0,u=k.length-1+a;if(u>=0){if(t.col>u){var i=W.current.rows[t.row].cells[u].getBoundingClientRect();l=o.left-i.right}}else l=o.left-n.left;l<0&&F.current.scrollBy(l,0)}var c=o.top-r.bottom;c<0&&F.current.scrollBy(0,c)}me(t.row,t.col,!0)}(0,{row:n,col:r}),e.preventDefault()}else e.preventDefault()},onMouseDown:function(e){var t=e.target.closest("td, th");t&&(G.current=!1,J(!1),me(t.parentElement.rowIndex,t.cellIndex))},onFocus:function(e){if(!e.currentTarget.contains(e.relatedTarget)&&G.current){var t=ee,n=oe;z.current.rowId&&(t=-1===(t=(0,l.default)(W.current.rows).findIndex((function(e){return e.getAttribute("data-row-id")===z.current.rowId})))?Math.min(ee,W.current.rows.length-1):t),z.current.columnId&&(n=-1===(n=B.findIndex((function(e){return e.id===z.current.columnId&&e.columnSpanIndex&&e.columnSpanIndex===z.current.columnSpanIndex})))?Math.min(oe,B.length-1):n),me(t,n,!0)}G.current=!0},id:g,className:y("data-grid-container")},i.default.createElement(f.GridContext.Provider,{value:de},i.default.createElement(f.default,{id:"".concat(g,"-table"),rows:T,sections:A,ariaLabelledBy:o,ariaLabel:r,activeColumnIndex:we&&(0===ee||Q&&1===ee)?oe:void 0,focusedRowIndex:ee,triggerFocus:be,isActiveColumnResizing:he&&V,columnResizeIncrement:c,pinnedColumns:k,tableBodyColumns:B,overflowColumns:H,defaultColumnWidth:d,columnHeaderHeight:u,rowHeight:P,rowHeaderIndex:M,onColumnResize:O,onColumnSelect:R,onSectionSelect:I,onRowSelectionHeaderSelect:x,onCellSelect:S,rowSelectionMode:p?"multiple":void 0,hasVisibleColumnHeaders:h,isStriped:!0,rowMinimumHeight:D})),i.default.createElement(b.default,{"aria-live":"polite","aria-atomic":"true",text:ie}))}));E.defaultProps={rowHeaderIndex:0,defaultColumnWidth:200,columnHeaderHeight:"2.5rem",pinnedColumns:[],overflowColumns:[],tableBodyColumns:[],rows:[],hasVisibleColumnHeaders:!0},E.propTypes=S;t.default=E},35875:function(){"undefined"!=typeof Element&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}))},78323:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={ROW_SELECTION_COLUMN:{id:"WorklistDataGrid-rowSelectionColumn",width:40,isSelectable:!0,isResizable:!1}};t.default=n},7520:function(e,t,n){n.r(t),t.default={"data-grid-container":"DataGrid-module__data-grid-container___4LJj1"}}}]);