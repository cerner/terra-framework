"use strict";(self.webpackChunkterra_framework=self.webpackChunkterra_framework||[]).push([[55730],{85630:function(e,t,r){var n=r(64836),l=r(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(38416)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=l(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=a?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(n,u,o):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(67294)),o=n(r(45697)),i=r(25387),d=n(r(47166)),c=n(r(29270)),f=n(r(99722)),s=n(r(99254)),m=r(28409),w=n(r(56323));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=d.default.bind(w.default),C={ariaLabelledBy:o.default.string,ariaLabel:o.default.string,id:o.default.string.isRequired,rows:o.default.arrayOf(s.default),columns:o.default.arrayOf(m.columnShape),defaultColumnWidth:o.default.number,columnHeaderHeight:o.default.string,rowHeight:o.default.string,onCellSelect:o.default.func,onClearSelectedCells:o.default.func,intl:o.default.shape({formatMessage:o.default.func}).isRequired};function y(e){var t=e.id,r=e.ariaLabelledBy,n=e.ariaLabel,l=e.rows,a=e.columns,o=e.defaultColumnWidth,i=e.columnHeaderHeight,d=e.rowHeight,s=e.onCellSelect,m=e.onClearSelectedCells,w=e.intl,p=(0,u.useMemo)((function(){return a.map((function(e){return g(g({},e),{},{isResizable:!1})}))}),[a]),b=p.length?[p[0]]:[],C=p.length>1?p.slice(1):[],y=(0,u.useMemo)((function(){var e=u.default.createElement(u.default.Fragment,null,u.default.createElement("span",{"aria-hidden":!0},w.formatMessage({id:"Terra.flowsheetDataGrid.no-result-display"})),u.default.createElement(c.default,{text:w.formatMessage({id:"Terra.flowsheetDataGrid.no-result"})})),t=l;return t.forEach((function(r,n){var l=r.cells;l.forEach((function(t,r){t.content||0===r||(l[r].content=e)})),t[n].cells=l})),t}),[w,l]);return u.default.createElement("div",{className:h("flowsheet-data-grid-container")},u.default.createElement(f.default,{id:t,ariaLabel:n,ariaLabelledBy:r,rows:y,rowHeight:d,rowHeaderIndex:0,pinnedColumns:b,overflowColumns:C,defaultColumnWidth:o,columnHeaderHeight:i,onCellSelect:s,onClearSelectedCells:m}))}y.propTypes=C,y.defaultProps={defaultColumnWidth:200,columnHeaderHeight:"2.5rem",rowHeight:"2.5rem",rows:[],columns:[]};t.default=(0,i.injectIntl)(y)},51415:function(e,t,r){var n=r(64836),l=r(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(861)),u=n(r(27424)),o=C(r(67294)),i=n(r(45697)),d=r(25387),c=n(r(47166)),f=C(r(51051)),s=n(r(29270)),m=n(r(99254)),w=r(28409),p=n(r(98834)),b=n(r(29877)),g=n(r(99722));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=l(e)&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=a?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(n,u,o):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}var y=c.default.bind(b.default),v={ariaLabelledBy:i.default.string,ariaLabel:i.default.string,id:i.default.string.isRequired,rows:i.default.arrayOf(m.default),pinnedColumns:i.default.arrayOf(w.columnShape),overflowColumns:i.default.arrayOf(w.columnShape),defaultColumnWidth:i.default.number,columnHeaderHeight:i.default.string,rowHeight:i.default.string,rowHeaderIndex:p.default,onColumnResize:i.default.func,onCellSelect:i.default.func,onRowSelect:i.default.func,onRowSelectAll:i.default.func,onColumnSelect:i.default.func,onClearSelectedRows:i.default.func,onClearSelectedCells:i.default.func,onDisableSelectableRows:i.default.func,onEnableRowSelection:i.default.func,hasSelectableRows:i.default.bool,intl:i.default.shape({formatMessage:i.default.func}).isRequired};function O(e){var t=e.id,r=e.ariaLabelledBy,n=e.ariaLabel,l=e.rows,i=e.pinnedColumns,d=e.overflowColumns,c=e.onColumnResize,m=e.defaultColumnWidth,w=e.columnHeaderHeight,p=e.rowHeight,b=e.onColumnSelect,h=e.onCellSelect,C=e.onRowSelect,v=e.onRowSelectAll,O=e.onClearSelectedRows,S=e.onClearSelectedCells,k=e.onDisableSelectableRows,_=e.onEnableRowSelection,j=e.hasSelectableRows,H=e.intl,M=e.rowHeaderIndex,P=(0,o.useRef)(!1),D=(0,o.useRef)([]),R=(0,o.useState)(null),E=(0,u.default)(R,2),I=E[0],W=E[1],x=(0,o.useState)(null),G=(0,u.default)(x,2),L=G[0],T=G[1],K=(0,o.useRef)(!1),B=(0,o.useRef)({start:null,end:null});(0,o.useEffect)((function(){P.current?(j||(B.current={},D.current=[]),T(H.formatMessage({id:j?"Terra.worklistDataGrid.row-selection-mode-enabled":"Terra.worklistDataGrid.row-selection-mode-disabled"}))):P.current=!0}),[j]),(0,o.useEffect)((function(){var e=(0,a.default)(D.current);if(D.current=l.filter((function(e){return e.isSelected})).map((function(e){return e.id})),e.length>0&&0===D.current.length)W(H.formatMessage({id:"Terra.worklistDataGrid.all-rows-unselected"}));else if(D.current.length===l.length)W(H.formatMessage({id:"Terra.worklistDataGrid.all-rows-selected"}));else{var t=D.current.filter((function(t){return!e.includes(t)})),r=e.filter((function(e){return!D.current.includes(e)})),n="";if(1===t.length){var u=l.findIndex((function(e){return e.id===t[0]})),o=l[u].ariaLabel||u+2;n=H.formatMessage({id:"Terra.worklistDataGrid.row-selection-template"},{row:o})}else t.length>1&&(n=H.formatMessage({id:"Terra.worklistDataGrid.multiple-rows-selected"},{rowCount:t.length}));if(1===r.length){var i=l.findIndex((function(e){return e.id===r[0]})),d=l[i].ariaLabel||i+2;n+=H.formatMessage({id:"Terra.worklistDataGrid.row-selection-cleared-template"},{row:d})}else r.length>1&&(n+=H.formatMessage({id:"Terra.worklistDataGrid.multiple-rows-unselected"},{rowCount:r.length}));n&&W(n)}}),[H,l]);var q=(0,o.useCallback)((function(){j?(B.current={},l.some((function(e){return e.isSelected}))?O&&O():k&&k()):S&&S()}),[j,S,O,k,l]),z=(0,o.useCallback)((function(e){var t=[];return B.current.end?(B.current.start>B.current.end?e>B.current.end&&(t=l.slice(B.current.end-1,Math.min(e,B.current.start)-1).map((function(e){return{id:e.id,selected:!1}}))):B.current.start<B.current.end&&e<B.current.end&&(t=l.slice(Math.max(B.current.start,e),B.current.end).map((function(e){return{id:e.id,selected:!1}}))),t):t}),[l]),F=(0,o.useCallback)((function(e){if(j||_(),C){var t=Math.min(B.current.start,e),r=Math.max(B.current.start,e),n=l.slice(t-1,r).map((function(e){return{id:e.id,selected:!0}}));n=n.concat(z(e)),C(n),B.current.end=e}}),[j,_,C,l,z]),Y=(0,o.useCallback)((function(e,t){var r=[];l[t-1].isSelected?(t===B.current.start&&(B.current={}),r.push({id:e,selected:!1})):(B.current={start:t,end:null},r.push({id:e,selected:!0})),C&&C(r)}),[C,l]),A=(0,o.useCallback)((function(e,t,r){var n=e;r===f.KEY_UP?0===(n-=1)&&(n=1):r===f.KEY_DOWN&&(n+=1),K.current||(K.current=!0,B.current={start:e,end:null}),F(n)}),[F]),N=(0,o.useCallback)((function(e){j?e.isShiftPressed&&B.current.start?F(e.rowIndex):Y(e.rowId,e.rowIndex):e.isShiftPressed&&(B.current={start:e.rowIndex,end:null},F(e.rowIndex))}),[j,F,Y]),U=(0,o.useCallback)((function(e){j||e.isShiftPressed?N(e):e.isCellSelectable&&h&&h(e.rowId,e.columnId)}),[N,j,h]);return o.default.createElement("div",{onKeyDown:function(e){if(e.keyCode===f.KEY_A)j&&(e.ctrlKey||e.metaKey)&&(v&&v(),e.preventDefault())},onKeyUp:function(e){if(e.keyCode===f.KEY_SHIFT)K.current=!1},className:y("worklist-data-grid-container")},o.default.createElement(g.default,{id:t,ariaLabel:n,ariaLabelledBy:r,rows:l,rowHeight:p,rowHeaderIndex:M,pinnedColumns:i,overflowColumns:d,defaultColumnWidth:m,columnHeaderHeight:w,onColumnSelect:b,onColumnResize:c,onCellSelect:U,onClearSelection:q,onRangeSelection:A,hasSelectableRows:j}),o.default.createElement(s.default,{"aria-live":"polite",text:L}),o.default.createElement(s.default,{"aria-live":"polite",text:I}))}O.propTypes=v,O.defaultProps={rowHeaderIndex:0,defaultColumnWidth:200,columnHeaderHeight:"2.5rem",rowHeight:"2.5rem",pinnedColumns:[],overflowColumns:[]};t.default=(0,d.injectIntl)(O)},55730:function(e,t,r){var n=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FlowsheetDataGrid",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"WorklistDataGrid",{enumerable:!0,get:function(){return l.default}});var l=n(r(51415)),a=n(r(85630))},56323:function(e,t,r){r.r(t),t.default={"flowsheet-data-grid-container":"FlowsheetDataGrid-module__flowsheet-data-grid-container___O1y8B"}},29877:function(e,t,r){r.r(t),t.default={"worklist-data-grid-container":"WorklistDataGrid-module__worklist-data-grid-container___IbMs4"}}}]);