"use strict";(self.webpackChunkterra_framework=self.webpackChunkterra_framework||[]).push([[99722],{99722:function(e,t,n){var r=n(64836),a=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(861)),o=r(n(27424)),u=r(n(38416)),i=_(n(67294)),d=r(n(45697)),c=r(n(47166)),s=_(n(51051)),f=_(n(12810)),b=r(n(29270)),m=r(n(99254)),p=n(28409),E=r(n(86843)),h=r(n(98834)),g=r(n(36199));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,u.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(11710);var y=c.default.bind(g.default),O={ariaLabelledBy:d.default.string,ariaLabel:d.default.string,id:d.default.string.isRequired,rows:d.default.arrayOf(m.default),pinnedColumns:d.default.arrayOf(p.columnShape),overflowColumns:d.default.arrayOf(p.columnShape),defaultColumnWidth:d.default.number,columnHeaderHeight:d.default.string,columnResizeIncrement:d.default.number,rowHeight:d.default.string,rowHeaderIndex:h.default,onColumnResize:d.default.func,onCellSelect:d.default.func,onColumnSelect:d.default.func,onClearSelection:d.default.func,onRangeSelection:d.default.func,onRowSelectionHeaderSelect:d.default.func,onCellRangeSelect:d.default.func,hasSelectableRows:d.default.bool,hasVisibleColumnHeaders:d.default.bool},S=(0,i.forwardRef)((function(e,t){var n=e.ariaLabel,r=e.ariaLabelledBy,a=e.columnHeaderHeight,u=e.columnResizeIncrement,d=e.defaultColumnWidth,c=e.hasVisibleColumnHeaders,m=e.hasSelectableRows,p=e.id,h=e.onCellRangeSelect,g=e.onCellSelect,w=e.onClearSelection,_=e.onColumnResize,v=e.onColumnSelect,O=e.onRangeSelection,S=e.onRowSelectionHeaderSelect,R=e.overflowColumns,N=e.pinnedColumns,I=e.rowHeaderIndex,H=e.rowHeight,D=e.rows,x=(m?[E.default.ROW_SELECTION_COLUMN]:[]).concat(N).concat(R),P=D.map((function(e){return C(C({},e),{},{cells:e.cells.map((function(e){return C(C({},e),{},{isSelectable:!1!==e.isSelectable})}))})})),k=(0,i.useRef)(),j=(0,i.useRef)(),K=(0,i.useRef)(),T=(0,i.useRef)(!0),W=(0,i.useState)(!1),A=(0,o.default)(W,2),L=A[0],M=A[1],B=(0,i.useState)(c?0:1),Y=(0,o.default)(B,2),G=Y[0],z=Y[1],U=(0,i.useState)(0),X=(0,o.default)(U,2),F=X[0],q=X[1],V=(0,i.useState)(!1),Z=(0,o.default)(V,2),J=Z[0],Q=Z[1],$=(0,i.useState)(null),ee=(0,o.default)($,2),te=ee[0],ne=ee[1],re=(0,i.useMemo)((function(){return{role:f.GridConstants.GRID,setCellAriaLiveMessage:ne,tableRef:k,tableContainerRef:K}}),[k,K]),ae=function(e,t,n){if(ne(null),z(e),q(t),n){var r,a=k.current.rows[e].cells[t];if(u=t,m&&u<x.length&&x[u].id===E.default.ROW_SELECTION_COLUMN.id&&a.getElementsByTagName("input").length>0){var l=a.getElementsByTagName("input");a=(0,o.default)(l,1)[0]}0!==e||a.hasAttribute("tabindex")||(a=a.querySelector('[role="button"]')),null===(r=a)||void 0===r||r.focus()}var u};(0,i.useImperativeHandle)(t,(function(){return{setFocusedRowCol:ae,getFocusedCell:function(){return{row:G,col:F}}}}),[F,G]);var le=(0,i.useCallback)((function(e){var t=x.findIndex((function(t){return t.id===e}));q(t),v&&v(e)}),[v,x]),oe=(0,i.useCallback)((function(){q(0),z(0),S&&S()}),[S]),ue=(0,i.useCallback)((function(e){z(e.rowIndex),q(e.columnIndex),g&&g(e)}),[g]);return i.default.createElement("div",{tabIndex:0,ref:j,onKeyDown:function(e){var t={row:G,col:F},n=t.row,r=t.col;M(!1);var a=e.target;if(e.keyCode===s.KEY_TAB||!(function(e){if("input"===e.tagName.toLowerCase()){var t=e.type;return["text","password","number","email","tel","url","search","date","datetime","datetime-local","time","month","week"].indexOf(t)>=0}return!1}(a)||["textarea","select"].indexOf(a.tagName.toLowerCase())>=0||a.hasAttribute("contentEditable")&&!1!==a.getAttribute("contentEditable"))){switch(e.keyCode){case s.KEY_UP:n-=1;break;case s.KEY_DOWN:n+=1;break;case s.KEY_LEFT:e.metaKey?(r=0,e.ctrlKey&&(n=1)):(r-=1,M(0===t.row));break;case s.KEY_RIGHT:e.metaKey?(r=x.length-1,e.ctrlKey&&(n=D.length)):r+=1;break;case s.KEY_HOME:r=0,e.ctrlKey&&(n=1);break;case s.KEY_END:r=x.length-1,e.ctrlKey&&(n=D.length);break;case s.KEY_ESCAPE:return w&&w(),void e.preventDefault();case s.KEY_TAB:return function(e){var t=(0,l.default)(document.body.querySelectorAll("".concat("a[href]:not([tabindex='-1']), area[href]:not([tabindex='-1']), input:not([disabled]):not([tabindex='-1']), select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']), iframe:not([tabindex='-1']), [tabindex]:not([tabindex='-1']), [contentEditable=true]:not([tabindex='-1'])"))).filter((function(e){return!(e.hasAttribute("disabled")||e.getAttribute("aria-hidden")||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)||"hidden"===window.getComputedStyle(e).visibility||null!==e.closest("[inert]")||e.id!==p&&j.current.contains(e))})),n=t.indexOf(j.current);if(n>-1){var r,a=e?1:-1;n+a<t.length?r=t[n+a]:t[0].id!==p&&(r=t[0]),r&&r.focus()}}(!e.shiftKey),void e.preventDefault();default:return}var o=new Set([s.KEY_UP,s.KEY_DOWN]),u=new Set([s.KEY_UP,s.KEY_DOWN,s.KEY_LEFT,s.KEY_RIGHT]);O&&e.shiftKey&&o.has(e.keyCode)&&O(t.row,t.col,e.keyCode),h&&e.shiftKey&&u.has(e.keyCode)&&h(t.row,t.col,e.keyCode),n>D.length||r>=x.length||r<0||n<(c?0:1)||function(e,t){var n=K.current.getBoundingClientRect(),r=k.current.rows[0].cells[t.col].getBoundingClientRect(),a=k.current.rows[t.row].cells[t.col].getBoundingClientRect();if(a.right>n.right)K.current.scrollBy(a.right-n.right,0);else{var l=0,o=m?1:0,u=N.length-1+o;if(u>=0){if(t.col>u){var i=k.current.rows[t.row].cells[u].getBoundingClientRect();l=a.left-i.right}}else l=a.left-n.left;l<0&&K.current.scrollBy(l,0)}var d=a.top-r.bottom;d<0&&K.current.scrollBy(0,d),ae(t.row,t.col,!0)}(0,{row:n,col:r}),e.preventDefault()}},onMouseDown:function(){T.current=!1},onFocus:function(e){e.currentTarget.contains(e.relatedTarget)||T.current&&(ae(G,F,!0),Q(!0)),T.current=!0},onBlur:function(e){e.currentTarget.contains(e.relatedTarget)||Q(!1)},id:p,className:y("data-grid-container")},i.default.createElement(f.GridContext.Provider,{value:re},i.default.createElement(f.default,{id:"".concat(p,"-table"),rows:P,ariaLabelledBy:r,ariaLabel:n,activeColumnIndex:J&&0===G?F:void 0,isActiveColumnResizing:0===G&&L,columnResizeIncrement:u,pinnedColumns:N,overflowColumns:R,defaultColumnWidth:d,columnHeaderHeight:a,rowHeight:H,rowHeaderIndex:I,onColumnResize:_,onColumnSelect:le,onCellSelect:ue,onRowSelectionHeaderSelect:oe,hasSelectableRows:m,hasVisibleColumnHeaders:c,isStriped:!0})),i.default.createElement(b.default,{"aria-live":"polite","aria-atomic":"true",text:te}))}));S.propTypes=O,S.defaultProps={rowHeaderIndex:0,defaultColumnWidth:200,columnHeaderHeight:"2.5rem",rowHeight:"2.5rem",pinnedColumns:[],overflowColumns:[],rows:[],hasVisibleColumnHeaders:!0};t.default=S},11710:function(){"undefined"!=typeof Element&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}))},90442:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(45697)),l=a.default.shape({content:a.default.node,isMasked:a.default.bool,isSelectable:a.default.bool,isSelected:a.default.bool});t.default=l},28409:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.columnShape=t.SortIndicators=void 0;var a=r(n(45697)),l=t.SortIndicators={ASCENDING:"ascending",DESCENDING:"descending"};t.columnShape=a.default.shape({id:a.default.string.isRequired,displayName:a.default.string,hasError:a.default.bool,isResizable:a.default.bool,isSelectable:a.default.bool,minimumWidth:a.default.number,maximumWidth:a.default.number,width:a.default.number,sortIndicator:a.default.oneOf(Object.values(l))})},99254:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(45697)),l=r(n(90442)),o=a.default.shape({id:a.default.string.isRequired,cells:a.default.arrayOf(l.default),isSelected:a.default.bool,ariaLabel:a.default.string});t.default=o},98834:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(21545));t.default=function(e){return Number.isInteger(e.rowHeaderIndex)?e.rowHeaderIndex<0?new Error(a.default.ROW_HEADER_INDEX_LESS_THAN_ZERO):e.pinnedColumns.length&&e.rowHeaderIndex>=e.pinnedColumns.length?new Error(a.default.ROW_HEADER_INDEX_EXCEEDS_PINNED):void 0:new Error(a.default.ROW_HEADER_INDEX_NOT_AN_INTEGER)}},86843:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={ROW_SELECTION_COLUMN:{id:"WorklistDataGrid-rowSelectionColumn",width:40,isSelectable:!0,isResizable:!1}};t.default=n},21545:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={ROW_HEADER_INDEX_EXCEEDS_PINNED:"Prop rowHeaderIndex exceeds the size of pinnedColumns.",ROW_HEADER_INDEX_LESS_THAN_ZERO:"Prop rowHeaderIndex must be a positive integer.",ROW_HEADER_INDEX_NOT_AN_INTEGER:"Prop rowHeaderIndex must be an integer.",PINNED_COLUMNS_UNDEFINED:"To be properly accessible, the row header column should be a pinned column. please set pinned columns"};t.default=n},36199:function(e,t,n){n.r(t),t.default={"data-grid-container":"DataGrid-module__data-grid-container___4LJj1"}}}]);