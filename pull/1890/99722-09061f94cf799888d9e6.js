"use strict";(self.webpackChunkterra_framework=self.webpackChunkterra_framework||[]).push([[99722],{99722:function(e,t,n){var r=n(64836),o=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(10434)),a=r(n(861)),u=r(n(27424)),i=r(n(38416)),c=C(n(67294)),d=r(n(45697)),s=n(25387),f=r(n(47166)),m=C(n(51051)),b=C(n(12810)),p=r(n(29270)),g=r(n(86843)),h=r(n(36199));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=l?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(11710);var S=f.default.bind(h.default),E={ariaLabelledBy:d.default.string,ariaLabel:d.default.string,id:d.default.string.isRequired,rows:d.default.arrayOf(b.rowShape),sections:d.default.arrayOf(b.sectionShape),pinnedColumns:d.default.arrayOf(b.columnShape),overflowColumns:d.default.arrayOf(b.columnShape),defaultColumnWidth:d.default.number,columnHeaderHeight:d.default.string,columnResizeIncrement:d.default.number,rowHeight:d.default.string,rowHeaderIndex:b.validateRowHeaderIndex,onColumnResize:d.default.func,onCellSelect:d.default.func,onSectionSelect:d.default.func,onColumnSelect:d.default.func,onClearSelection:d.default.func,onRangeSelection:d.default.func,onRowSelectionHeaderSelect:d.default.func,onCellRangeSelect:d.default.func,hasSelectableRows:d.default.bool,hasVisibleColumnHeaders:d.default.bool},O=(0,s.injectIntl)((function(e){var t=e.ariaLabel,n=e.ariaLabelledBy,r=e.columnHeaderHeight,o=e.columnResizeIncrement,l=e.defaultColumnWidth,i=e.hasVisibleColumnHeaders,d=e.hasSelectableRows,s=e.id,f=e.onCellRangeSelect,h=e.onCellSelect,w=e.onClearSelection,C=e.onColumnResize,y=e.onColumnSelect,E=e.onRangeSelection,O=e.onRowSelectionHeaderSelect,R=e.onSectionSelect,_=e.overflowColumns,x=e.pinnedColumns,I=e.rowHeaderIndex,k=e.rowHeight,H=e.rows,K=e.sections,j=(d?[g.default.ROW_SELECTION_COLUMN]:[]).concat(x).concat(_),P=H.map((function(e){return v(v({},e),{},{cells:e.cells.map((function(e){return v(v({},e),{},{isSelectable:!1!==e.isSelectable})}))})})),D=(0,c.useRef)(),L=(0,c.useRef)(),M=(0,c.useRef)(),T=(0,c.useRef)(!0),N=(0,c.useRef)({rowId:"",columnId:""}),B=(0,c.useState)(!1),W=(0,u.default)(B,2),Y=W[0],A=W[1],z=(0,c.useState)(i?0:1),F=(0,u.default)(z,2),G=F[0],U=F[1],V=(0,c.useState)(0),q=(0,u.default)(V,2),J=q[0],Q=q[1],X=(0,c.useState)(!1),Z=(0,u.default)(X,2),$=Z[0],ee=Z[1],te=(0,c.useState)(null),ne=(0,u.default)(te,2),re=ne[0],oe=ne[1],le=(0,c.useMemo)((function(){return{role:b.GridConstants.GRID,setCellAriaLiveMessage:oe,tableRef:D,tableContainerRef:M}}),[D,M]),ae=(0,c.useCallback)((function(e){return d&&e<j.length&&j[e].id===g.default.ROW_SELECTION_COLUMN.id}),[j,d]),ue=(0,c.useCallback)((function(e,t,n){if(oe(null),U(e),Q(t),N.current={rowId:D.current.rows[e].getAttribute("data-row-id"),columnId:j[t].id},n){var r,o=D.current.rows[e].cells[t];if(ae(t)&&o.getElementsByTagName("input").length>0){var l=o.getElementsByTagName("input");o=(0,u.default)(l,1)[0]}0!==e||o.hasAttribute("tabindex")||(o=o.querySelector('[role="button"]')),null===(r=o)||void 0===r||r.focus()}}),[ae,j]);(0,c.useImperativeHandle)(e.focusFuncRef,(function(){return{setFocusedRowCol:ue,getFocusedCell:function(){return{row:G,col:J}}}}),[J,G]);var ie=(0,c.useCallback)((function(e){var t=j.findIndex((function(t){return t.id===e}));ue(0,t),y&&y(e)}),[y,j,ue]),ce=(0,c.useCallback)((function(){ue(0,0),O&&O()}),[O,ue]),de=(0,c.useCallback)((function(e){var t=e.columnIndex,n=e.rowIndex;ue(n,t),h&&h(e)}),[h,ue]);return c.default.createElement("div",{tabIndex:0,ref:L,onKeyDown:function(e){var t={row:G,col:J},n=t.row,r=t.col;A(!1);var o=e.target;if(e.keyCode===m.KEY_TAB||!(function(e){if("input"===e.tagName.toLowerCase()){var t=e.type;return["text","password","number","email","tel","url","search","date","datetime","datetime-local","time","month","week"].indexOf(t)>=0}return!1}(o)||["textarea","select"].indexOf(o.tagName.toLowerCase())>=0||o.hasAttribute("contentEditable")&&!1!==o.getAttribute("contentEditable"))){switch(e.keyCode){case m.KEY_UP:n-=1;break;case m.KEY_DOWN:n+=1;break;case m.KEY_LEFT:e.metaKey?(r=0,e.ctrlKey&&(n=1)):(r-=1,A(0===t.row));break;case m.KEY_RIGHT:e.metaKey?(r=j.length-1,e.ctrlKey&&(n=H.length)):r+=1;break;case m.KEY_HOME:r=0,e.ctrlKey&&(n=1);break;case m.KEY_END:r=j.length-1,e.ctrlKey&&(n=H.length);break;case m.KEY_ESCAPE:return w&&w(),void e.preventDefault();case m.KEY_TAB:return function(e){var t=(0,a.default)(document.body.querySelectorAll("".concat("a[href]:not([tabindex='-1']), area[href]:not([tabindex='-1']), input:not([disabled]):not([tabindex='-1']), select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']), iframe:not([tabindex='-1']), [tabindex]:not([tabindex='-1']), [contentEditable=true]:not([tabindex='-1'])"))).filter((function(e){return!(e.hasAttribute("disabled")||e.getAttribute("aria-hidden")||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)||"hidden"===window.getComputedStyle(e).visibility||null!==e.closest("[inert]")||e.id!==s&&L.current.contains(e))})),n=t.indexOf(L.current);if(n>-1){var r,o=e?1:-1;n+o<t.length?r=t[n+o]:t[0].id!==s&&(r=t[0]),r&&r.focus()}}(!e.shiftKey),void e.preventDefault();default:return}var l=new Set([m.KEY_UP,m.KEY_DOWN]),u=new Set([m.KEY_UP,m.KEY_DOWN,m.KEY_LEFT,m.KEY_RIGHT]);E&&e.shiftKey&&l.has(e.keyCode)&&E(t.row,t.col,e.keyCode),f&&e.shiftKey&&u.has(e.keyCode)&&f(t.row,t.col,e.keyCode),n>H.length||r>=j.length||r<0||n<(i?0:1)||function(e,t){var n=M.current.getBoundingClientRect(),r=D.current.rows[0].cells[t.col].getBoundingClientRect(),o=D.current.rows[t.row].cells[t.col].getBoundingClientRect();if(o.right>n.right)M.current.scrollBy(o.right-n.right,0);else{var l=0,a=d?1:0,u=x.length-1+a;if(u>=0){if(t.col>u){var i=D.current.rows[t.row].cells[u].getBoundingClientRect();l=o.left-i.right}}else l=o.left-n.left;l<0&&M.current.scrollBy(l,0)}var c=o.top-r.bottom;c<0&&M.current.scrollBy(0,c),ue(t.row,t.col,!0)}(0,{row:n,col:r}),e.preventDefault()}},onMouseDown:function(){T.current=!1},onFocus:function(e){if(!e.currentTarget.contains(e.relatedTarget)&&T.current){var t=G,n=J,r=i?1:0;N.current.rowId&&(t=-1===(t=P.findIndex((function(e){return e.id===N.current.rowId})))?Math.min(G,P.length-1+r):t+r),N.current.columnId&&(n=-1===(n=j.findIndex((function(e){return e.id===N.current.columnId})))?Math.min(J,j.length-1):n),ue(t,n,!0),ee(!0)}T.current=!0},onBlur:function(e){e.currentTarget.contains(e.relatedTarget)||ee(!1)},id:s,className:S("data-grid-container")},c.default.createElement(b.GridContext.Provider,{value:le},c.default.createElement(b.default,{id:"".concat(s,"-table"),rows:P,sections:K,ariaLabelledBy:n,ariaLabel:t,activeColumnIndex:$&&0===G?J:void 0,isActiveColumnResizing:0===G&&Y,columnResizeIncrement:o,pinnedColumns:x,overflowColumns:_,defaultColumnWidth:l,columnHeaderHeight:r,rowHeight:k,rowHeaderIndex:I,onColumnResize:C,onColumnSelect:ie,onSectionSelect:R,onCellSelect:de,onRowSelectionHeaderSelect:ce,hasSelectableRows:d,hasVisibleColumnHeaders:i,isStriped:!0})),c.default.createElement(p.default,{"aria-live":"polite","aria-atomic":"true",text:re}))}));O.defaultProps={rowHeaderIndex:0,defaultColumnWidth:200,columnHeaderHeight:"2.5rem",rowHeight:"2.5rem",pinnedColumns:[],overflowColumns:[],rows:[],hasVisibleColumnHeaders:!0},O.propTypes=E;t.default=(0,c.forwardRef)((function(e,t){return c.default.createElement(O,(0,l.default)({},e,{focusFuncRef:t}))}))},11710:function(){"undefined"!=typeof Element&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}))},86843:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={ROW_SELECTION_COLUMN:{id:"WorklistDataGrid-rowSelectionColumn",width:40,isSelectable:!0,isResizable:!1}};t.default=n},36199:function(e,t,n){n.r(t),t.default={"data-grid-container":"DataGrid-module__data-grid-container___4LJj1"}}}]);