"use strict";(self.webpackChunkterra_framework=self.webpackChunkterra_framework||[]).push([[48567,48883],{66566:function(e,n,t){t.r(n),t.d(n,{default:function(){return f}});var o=t(87462),r=t(44925),a=t(67294),l=t(81254),c=t(8113),s=["components"],i={};function u(e){var n=e.components,t=(0,r.Z)(e,s);return(0,l.mdx)("wrapper",(0,o.Z)({},i,t,{components:n,mdxType:"MDXLayout"}),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-jsx"},"import React, { useState, useCallback } from 'react';\nimport Table from 'terra-table';\n\nconst tableDataJSON = {\n  cols: [\n    {\n      id: 'Column-0', displayName: 'Patient', sortIndicator: 'ascending', hasError: true, isSelectable: true, // This column header will be rendered with a sort indicator and an error icon by default.\n    },\n    { id: 'Column-1', displayName: 'Location', isSelectable: true },\n    { id: 'Column-2', displayName: 'Illness Severity', isSelectable: true },\n    { id: 'Column-3', displayName: 'Visit', isSelectable: true },\n    { id: 'Column-4', displayName: 'Allergy', hasError: true }, // Use hasError property to display an error icon in the column header\n    { id: 'Column-5', displayName: 'Primary Contact', isSelectable: true },\n  ],\n  rows: [\n    {\n      id: '1',\n      cells: [\n        { content: 'Fleck, Arthur' },\n        { content: '1007-MTN' },\n        { content: 'Unstable' },\n        { content: 'Inpatient, 2 months' },\n        { content: '' },\n        { content: 'Quinzell, Harleen' },\n      ],\n    },\n    {\n      id: '2',\n      cells: [\n        { content: 'Wayne, Bruce' },\n        { content: '1007-MTN-DR' },\n        { content: 'Stable' },\n        { content: 'Outpatient, 2 days' },\n        { content: 'Phytochemicals' },\n        { content: 'Grayson, Richard' },\n      ],\n    },\n  ],\n};\n\nconst TableWithColumnStates = () => {\n  const rowHeaderIndex = 0;\n  const { cols, rows } = tableDataJSON;\n\n  const [tableColumns, setTableColumns] = useState(cols);\n  const [tableRows, setTableRows] = useState(rows);\n\n  // The onColumnSelect will sort the rows and toggle the current sort indicator.\n  const onColumnSelect = useCallback((columnId) => {\n    const newColumnArray = tableColumns.map((column, columnIndex) => {\n      const newColumn = { ...column };\n\n      if (column.id === columnId) {\n        newColumn.sortIndicator = column.sortIndicator === 'ascending' ? 'descending' : 'ascending';\n\n        const newGridRows = [...tableRows];\n        newGridRows.sort((rowA, rowB) => {\n          const firstRowContent = rowA.cells[columnIndex].content || '';\n          const secondRowContent = rowB.cells[columnIndex].content || '';\n\n          if (newColumn.sortIndicator === 'ascending') {\n            return firstRowContent.localeCompare(secondRowContent);\n          }\n          return secondRowContent.localeCompare(firstRowContent);\n        });\n\n        setTableRows(newGridRows);\n      } else {\n        newColumn.sortIndicator = undefined;\n      }\n\n      return newColumn;\n    });\n\n    setTableColumns(newColumnArray);\n  }, [tableColumns, tableRows]);\n\n  return (\n    <Table\n      id=\"terra-table-with-column-states\"\n      overflowColumns={tableColumns}\n      rows={tableRows}\n      rowHeaderIndex={rowHeaderIndex}\n      rowHeight=\"50px\"\n      defaultColumnWidth={100}\n      columnHeaderHeight=\"50px\"\n      onColumnSelect={onColumnSelect} // Consumer must provide this callback to the Worklist Data Grid for it to call when the user selects a column header.\n      ariaLabel=\"Table\"\n    />\n  );\n};\n\nexport default TableWithColumnStates;\n\n")))}u.isMDXComponent=!0;var d=t(49271),m=function(e){var n=e.title,t=e.description,o=e.isExpanded;return a.createElement(d.Z,{title:n||"Table Column States",description:t,example:a.createElement(c.Z,null),exampleSrc:a.createElement(u,null),isExpanded:o})},p=["components"],b={},h="wrapper";function f(e){var n=e.components,t=(0,r.Z)(e,p);return(0,l.mdx)(h,(0,o.Z)({},b,t,{components:n,mdxType:"MDXLayout"}),(0,l.mdx)("h1",{id:"column-states-and-selection"},"Column States and Selection"),(0,l.mdx)("h3",{id:"description"},"Description"),(0,l.mdx)("p",null,"This example demonstrates a ",(0,l.mdx)("a",{parentName:"p",href:"/terra-framework/pull/1919/components/cerner-terra-framework-docs/table/about"},"Table")," that supports column states and sorting.\nA column can be selected by clicking on the column header or tabbing to the column header and pressing the Space key on the focused column header.\nOnly columns that are selectable can be selected."),(0,l.mdx)("p",null,"The Column can display error and sort indicator icons to represent its current state."),(0,l.mdx)("h3",{id:"properties-required"},"Properties required"),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},"The ",(0,l.mdx)("strong",{parentName:"li"},(0,l.mdx)("em",{parentName:"strong"},"onColumnSelect"))," callback prop: When the user selects a column, this callback will be called with the columnId of the selected column.")),(0,l.mdx)("p",null,"The below example also demonstrates how properties such as ",(0,l.mdx)("em",{parentName:"p"},"isSelectable"),", ",(0,l.mdx)("em",{parentName:"p"},"hasError")," and ",(0,l.mdx)("em",{parentName:"p"},"sortIndicator")," can be provided by the consumer to control if column header is selectable, display error state, and show sort indicator icons respectively."),(0,l.mdx)(m,{title:"Table Column States",mdxType:"TableColumnStates"}))}f.isMDXComponent=!0},8113:function(e,n,t){var o=t(64836),r=t(18698);n.Z=void 0;var a=o(t(861)),l=o(t(38416)),c=o(t(27424)),s=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var t=u(n);if(t&&t.has(e))return t.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var c=a?Object.getOwnPropertyDescriptor(e,l):null;c&&(c.get||c.set)?Object.defineProperty(o,l,c):o[l]=e[l]}return o.default=e,t&&t.set(e,o),o}(t(67294)),i=o(t(12810));function u(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(u=function(e){return e?t:n})(e)}function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}var m=[{id:"Column-0",displayName:"Patient",sortIndicator:"ascending",hasError:!0,isSelectable:!0},{id:"Column-1",displayName:"Location",isSelectable:!0},{id:"Column-2",displayName:"Illness Severity",isSelectable:!0},{id:"Column-3",displayName:"Visit",isSelectable:!0},{id:"Column-4",displayName:"Allergy",hasError:!0},{id:"Column-5",displayName:"Primary Contact",isSelectable:!0}],p=[{id:"1",cells:[{content:"Fleck, Arthur"},{content:"1007-MTN"},{content:"Unstable"},{content:"Inpatient, 2 months"},{content:""},{content:"Quinzell, Harleen"}]},{id:"2",cells:[{content:"Wayne, Bruce"},{content:"1007-MTN-DR"},{content:"Stable"},{content:"Outpatient, 2 days"},{content:"Phytochemicals"},{content:"Grayson, Richard"}]}];n.Z=function(){var e=m,n=p,t=(0,s.useState)(e),o=(0,c.default)(t,2),r=o[0],u=o[1],b=(0,s.useState)(n),h=(0,c.default)(b,2),f=h[0],w=h[1],y=(0,s.useCallback)((function(e){var n=r.map((function(n,t){var o=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,l.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},n);if(n.id===e){o.sortIndicator="ascending"===n.sortIndicator?"descending":"ascending";var r=(0,a.default)(f);r.sort((function(e,n){var r=e.cells[t].content||"",a=n.cells[t].content||"";return"ascending"===o.sortIndicator?r.localeCompare(a):a.localeCompare(r)})),w(r)}else o.sortIndicator=void 0;return o}));u(n)}),[r,f]);return s.default.createElement(i.default,{id:"terra-table-with-column-states",overflowColumns:r,rows:f,rowHeaderIndex:0,rowHeight:"50px",defaultColumnWidth:100,columnHeaderHeight:"50px",onColumnSelect:y,ariaLabel:"Table"})}}}]);