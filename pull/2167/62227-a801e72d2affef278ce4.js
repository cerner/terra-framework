"use strict";(self.webpackChunkterra_framework=self.webpackChunkterra_framework||[]).push([[62227],{62227:function(e,t,r){var n=r(24994),o=r(73738);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ColumnHighlightColor",{enumerable:!0,get:function(){return f.ColumnHighlightColor}}),t.default=void 0;var l=n(r(41132)),a=n(r(85715)),u=n(r(43693)),i=g(r(96540)),c=n(r(5556)),d=n(r(67967)),s=g(r(25966)),f=g(r(83264)),m=n(r(30881)),b=n(r(16524)),w=n(r(7520));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var u=l?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(35875);var y=d.default.bind(w.default),C={ariaLabelledBy:c.default.string,ariaLabel:c.default.string,id:c.default.string.isRequired,rows:c.default.arrayOf(f.rowShape),sections:c.default.arrayOf(f.sectionShape),pinnedColumns:c.default.arrayOf(f.columnShape),overflowColumns:c.default.arrayOf(f.columnShape),defaultColumnWidth:c.default.number,columnHeaderHeight:c.default.string,columnResizeIncrement:c.default.number,rowHeight:c.default.string,rowHeaderIndex:f.validateRowHeaderIndex,onColumnResize:c.default.func,onCellSelect:c.default.func,onSectionSelect:c.default.func,onColumnSelect:c.default.func,onClearSelection:c.default.func,onRangeSelection:c.default.func,onRowSelectionHeaderSelect:c.default.func,onCellRangeSelect:c.default.func,hasSelectableRows:c.default.bool,hasVisibleColumnHeaders:c.default.bool,rowMinimumHeight:c.default.string,isAutoFocusEnabled:c.default.bool},S=(0,i.forwardRef)((function(e,t){var r,n=e.ariaLabel,o=e.ariaLabelledBy,u=e.columnHeaderHeight,c=e.columnResizeIncrement,d=e.defaultColumnWidth,w=e.hasVisibleColumnHeaders,h=e.hasSelectableRows,g=e.id,p=e.onCellRangeSelect,C=e.onCellSelect,S=e.onClearSelection,E=e.onColumnResize,R=e.onColumnSelect,O=e.onRangeSelection,H=e.onRowSelectionHeaderSelect,x=e.onSectionSelect,_=e.overflowColumns,I=e.pinnedColumns,k=e.rowHeaderIndex,K=e.rowHeight,A=e.rows,P=e.sections,j=e.rowMinimumHeight,D=e.isAutoFocusEnabled,M=(0,i.useMemo)((function(){return A.map((function(e){return v(v({},e),{},{cells:e.cells.map((function(e){return v(v({},e),{},{isSelectable:!1!==e.isSelectable})}))})}))}),[A]),Y=(0,i.useRef)(),B=(0,i.useRef)(),L=(0,i.useRef)(),T=(0,i.useRef)(),W=(0,i.useRef)(!0),F=(0,i.useRef)({rowId:"",columnId:""}),G=(0,i.useState)(!1),N=(0,a.default)(G,2),z=N[0],q=N[1],V=(0,f.hasColumnActions)(I)||(0,f.hasColumnActions)(_),U=w?0:1,J=(0,i.useState)(U),Q=(0,a.default)(J,2),X=Q[0],Z=Q[1],$=(0,i.useState)(0),ee=(0,a.default)($,2),te=ee[0],re=ee[1],ne=(0,i.useState)(null),oe=(0,a.default)(ne,2),le=oe[0],ae=oe[1],ue=(0,i.useMemo)((function(){return{role:f.GridConstants.GRID,setCellAriaLiveMessage:ae,tableRef:Y,tableContainerRef:L,tableBodyColumnsRef:T,isAutoFocusEnabled:D}}),[Y,D,L]),ie=(0,i.useCallback)((function(e){return h&&0===e}),[h]),ce=(0,i.useCallback)((function(e){return Y.current.rows[e].hasAttribute("data-section-id")||Y.current.rows[e].hasAttribute("data-subsection-id")}),[]),de=(0,i.useCallback)((function(e,t,r){var n;if(ae(null),Z(e),re(t),t<T.current.length&&(F.current={rowId:Y.current.rows[e].getAttribute("data-row-id"),columnId:T.current[t].id}),r){var o,l;if(ce(e))return(o=(0,a.default)(Y.current.rows[e].cells,1)[0]).hasAttribute("tabindex")||(o=Y.current.rows[e].querySelector("button")),void(null===(l=o)||void 0===l||l.focus());if(o=Y.current.rows[e].cells[t],(0,m.default)(o).length>1){var u;null===(u=o)||void 0===u||u.focus()}else{var i=0===e||V&&1===e,c=o.querySelector("a, button");if(i&&!o.hasAttribute("tabindex")||D&&c){var d;null===(d=o=o.querySelector('a, button, [role="button"]'))||void 0===d||d.focus()}else{var s,f=o.querySelector("input");if(ie(t)&&f)null===(s=o=f)||void 0===s||s.focus();else null===(n=o)||void 0===n||n.focus()}}}}),[ce,V,D,ie]);(0,i.useImperativeHandle)(t,(function(){return{setFocusedRowCol:de,getFocusedCell:function(){return{row:X,col:te}},getGridRef:function(){return Y.current},getTableBodyColumnsRef:function(){return T.current}}}),[te,X]);var se=(0,i.useCallback)((function(){return de(X,te,!0)}),[de,X,te]),fe=null===(r=Y.current)||void 0===r?void 0:r.contains(document.activeElement),me=0===X||V&&1===X;return i.default.createElement("div",{ref:B,onKeyDown:function(e){var t={row:X,col:te},r=t.row,n=t.col;q(!1);var o=e.target,a=e.keyCode;if(a===s.KEY_TAB||!(function(e){if("input"===e.tagName.toLowerCase()){var t=e.type;return["text","password","number","email","tel","url","search","date","datetime","datetime-local","time","month","week"].indexOf(t)>=0}return!1}(o)||["textarea","select"].indexOf(o.tagName.toLowerCase())>=0||o.hasAttribute("contentEditable")&&!1!==o.getAttribute("contentEditable")))if(a!==s.KEY_RIGHT&&a!==s.KEY_LEFT||!ce(t.row)){var u=Y.current.rows.length;switch(a){case s.KEY_UP:!(0===(r-=1)||V&&1===r)||1===t.row&&V||(n=T.current[n].columnHeaderIndex);break;case s.KEY_DOWN:if(r+=1,0===t.row&&!V||V&&1===t.row){for(var i=0,c=0;c<t.col;c+=1)i+=Y.current.rows[0].cells[c].colSpan||1;n=i}break;case s.KEY_LEFT:e.metaKey?(n=0,e.ctrlKey&&(r=1)):(n-=1,q(0===t.row||V&&1===t.row));break;case s.KEY_RIGHT:e.metaKey?(n=Y.current.rows[r].cells.length-1,e.ctrlKey&&(r=u-1)):n+=1;break;case s.KEY_HOME:n=0,e.ctrlKey&&(r=1);break;case s.KEY_END:n=Y.current.rows[r].cells.length-1,e.ctrlKey&&(r=u-1);break;case s.KEY_ESCAPE:return S&&S(),void e.preventDefault();case s.KEY_TAB:return function(e){var t="#".concat(g,", a[href]:not([tabindex='-1']), area[href]:not([tabindex='-1']), input:not([disabled]):not([tabindex='-1']), ")+"select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']), iframe:not([tabindex='-1']), [tabindex]:not([tabindex='-1']), [contentEditable=true]:not([tabindex='-1'])",r=(0,l.default)(document.body.querySelectorAll("".concat(t))).filter((function(e){return!(e.hasAttribute("disabled")||e.getAttribute("aria-hidden")||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)||"hidden"===window.getComputedStyle(e).visibility||null!==e.closest("[inert]")||e.id!==g&&B.current.contains(e))})),n=r.indexOf(B.current);if(n>-1){var o,a=e?1:-1;n+a<r.length?o=r[n+a]:r[0].id!==g&&(o=r[0]),o&&o.focus()}}(!e.shiftKey),void e.preventDefault();default:return}var d=new Set([s.KEY_UP,s.KEY_DOWN]),f=new Set([s.KEY_UP,s.KEY_DOWN,s.KEY_LEFT,s.KEY_RIGHT]);O&&e.shiftKey&&d.has(e.keyCode)&&O(t.row,t.col,e.keyCode),p&&e.shiftKey&&f.has(e.keyCode)&&p(t.row,t.col,e.keyCode),r>=u||!ce(r)&&n>=Y.current.rows[r].cells.length||n<0||r<U||function(e,t){if(!ce(t.row)){var r=L.current.getBoundingClientRect(),n=Y.current.rows[0].getBoundingClientRect(),o=Y.current.rows[t.row].cells[t.col].getBoundingClientRect();if(o.right>r.right)L.current.scrollBy(o.right-r.right,0);else{var l=0,a=h?1:0,u=I.length-1+a;if(u>=0){if(t.col>u){var i=Y.current.rows[t.row].cells[u].getBoundingClientRect();l=o.left-i.right}}else l=o.left-r.left;l<0&&L.current.scrollBy(l,0)}var c=o.top-n.bottom;c<0&&L.current.scrollBy(0,c)}de(t.row,t.col,!0)}(0,{row:r,col:n}),e.preventDefault()}else e.preventDefault()},onMouseDown:function(e){var t=e.target.closest("td, th");t&&(W.current=!1,q(!1),de(t.parentElement.rowIndex,t.cellIndex))},onFocus:function(e){if(!e.currentTarget.contains(e.relatedTarget)&&W.current){var t=X,r=te;F.current.rowId&&(t=-1===(t=(0,l.default)(Y.current.rows).findIndex((function(e){return e.getAttribute("data-row-id")===F.current.rowId})))?Math.min(X,Y.current.rows.length-1):t),F.current.columnId&&(r=-1===(r=(0,l.default)(Y.current.rows[t].cells).findIndex((function(e){return e.getAttribute("data-cell-column-id")===F.current.columnId})))?Math.min(te,Y.current.rows[t].cells.length-1):r),de(t,r,!0)}W.current=!0},id:g,className:y("data-grid-container")},i.default.createElement(f.GridContext.Provider,{value:ue},i.default.createElement(f.default,{id:"".concat(g,"-table"),rows:M,sections:P,ariaLabelledBy:o,ariaLabel:n,activeColumnIndex:fe&&(0===X||V&&1===X)?te:void 0,focusedRowIndex:X,triggerFocus:se,isActiveColumnResizing:me&&z,columnResizeIncrement:c,pinnedColumns:I,overflowColumns:_,defaultColumnWidth:d,columnHeaderHeight:u,rowHeight:K,rowHeaderIndex:k,onColumnResize:E,onColumnSelect:R,onSectionSelect:x,onRowSelectionHeaderSelect:H,onCellSelect:C,rowSelectionMode:h?"multiple":void 0,hasVisibleColumnHeaders:w,isStriped:!0,rowMinimumHeight:j})),i.default.createElement(b.default,{"aria-live":"polite","aria-atomic":"true",text:le}))}));S.defaultProps={rowHeaderIndex:0,defaultColumnWidth:200,columnHeaderHeight:"2.5rem",pinnedColumns:[],overflowColumns:[],rows:[],hasVisibleColumnHeaders:!0},S.propTypes=C;t.default=S},35875:function(){"undefined"!=typeof Element&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}))},7520:function(e,t,r){r.r(t),t.default={"data-grid-container":"DataGrid-module__data-grid-container___4LJj1"}}}]);