import { Badge } from 'terra-menu/package.json?dev-site-package';

import MenuPropsTable from 'terra-menu/src/Menu?dev-site-props-table';
import MenuItemPropsTable from 'terra-menu/src/MenuItem?dev-site-props-table';
import MenuItemGroupPropsTable from 'terra-menu/src/MenuItemGroup?dev-site-props-table';

import ArrowMenu from './example/ArrowMenu?dev-site-example';
import BasicMenu from './example/BasicMenu?dev-site-example';
import MenuBounded from './example/MenuBounded?dev-site-example';
import MenuWidths from './example/MenuWidths?dev-site-example';
import MenuWithInstructionsForUse from './example/MenuWithInstructionsForUse?dev-site-example';
import MenuWithCustomIcons from './example/MenuWithCustomIcons?dev-site-example';
import LargeMenuWithScroll from './example/LargeMenuWithScroll?dev-site-example';
import LargeSubMenuWithScroll from './example/LargeSubMenuWithScroll?dev-site-example'

<Badge />

# Terra Menu

The menu is a popup component that displays a list of items, item groups, and dividers. Menu Items can be actionable, have toggle-style selection, or have nested submenu items. Menu Item groups are a single-select grouping of menu items.
The Menu will determine the height of the popup based on the number of items in the main menu.

## Getting Started

- Install with [npmjs](https://www.npmjs.com):
  - `npm install terra-menu`

<!-- AUTO-GENERATED-CONTENT:START Peer Dependencies -->
## Peer Dependencies

This component requires the following peer dependencies be installed in your app for the component to properly function.

| Peer Dependency | Version |
|-|-|
| react | ^16.8.5 |
| react-dom | ^16.8.5 |

<!-- AUTO-GENERATED-CONTENT:END -->

## Usage

For `Menu Item` and `Menu Item Group`, importing menu is sufficient and one can make use of `<Menu.Item>` and `<Menu.ItemGroup>` to create those components.

```jsx
import Menu from 'terra-menu';
```

## Examples 
<BasicMenu title='Default Menu' />
<ArrowMenu title='Menu With Arrow' />
<MenuBounded title='Menu Bounded' />
<MenuWidths title='Menu Widths' />
<MenuWithInstructionsForUse title='Help Menu Item: Electronic Instructions For Use' 
description="The Electronic Instructions For Use (eIFU) icon is a regulatory requirement for CE Mark Certification and Compliance, 
and is used to indicate Help content that is the equivalent of a manufacturer\'s instruction manual. 
The label for the Help menu option should be the name of the application followed by 'Help.'"  />
<MenuWithCustomIcons title='Custom Icons for Menu Items'
description="Allow for custom icons for menu items in the menu" />
<LargeMenuWithScroll title='Large Menu With Scroll' />
<LargeSubMenuWithScroll title='Large Sub Menu With Scroll' />

## Menu Props Table 
<MenuPropsTable />

## Menu.Item Props Table 
<MenuItemPropsTable />

## Menu.ItemGroup Props Table 
<MenuItemGroupPropsTable />

## Testing

Menu uses `uuid` which changes the component's description id dynamically. To mock the return value with the Jest testing library, `jest.spyOn` can be used.

If Enzyme `shallow` rendering is being used for the tests then the mock may not be required. However, if `mount` is used then `uuid` should be mocked as shown below:

```js
import { v4 as uuidv4 } from 'uuid';

let mockSpyUuid;

// using a variable may result in failures. For best results, mock return value.
beforeAll(() => {
  mockSpyUuid = jest.spyOn(uuidv4, 'v4').mockReturnValue('00000000-0000-0000-0000-000000000000');
});

// restore the mock
afterAll(() => {
  mockSpyUuid.mockRestore();
});

```
