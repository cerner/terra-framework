import { Badge } from 'terra-modal-manager/package.json?dev-site-package';

import ModalManagerExample from './example/ModalManagerExample?dev-site-example';

import ModalManagerPropsTable from 'terra-modal-manager/src/ModalManager?dev-site-props-table';

<Badge />

# Terra Modal Manager

The ModalManager is a DisclosureManager implementation that presents disclosed content using an AbstractModal.

ModalManager provides the ability to handle and navigate stacked disclosures.

## Getting Started

- Install with [npmjs](https://www.npmjs.com):
  - `npm install terra-modal-manager`

<!-- AUTO-GENERATED-CONTENT:START Peer Dependencies -->
## Peer Dependencies

This component requires the following peer dependencies be installed in your app for the component to properly function.

| Peer Dependency | Version |
|-|-|
| react | ^16.8.5 |
| react-dom | ^16.8.5 |
| terra-disclosure-manager | ^4.16.0 |

<!-- AUTO-GENERATED-CONTENT:END -->

## Usage
```jsx
import ModalManager, { disclosureType } from 'terra-modal-manager';
```

## Implementation Requirements

The ModalManager utilizes the DisclosureManager API to manage disclosure requests. The components provided as children to the ModalManager, and the components disclosed within it, must interface with the ModalManager's context using the `withDisclosureManager()` higher-order component generator provided by the `terra-disclosure-manager` package. Alternatively, `DisclosureManagerContext` can be consumed directly using the `useContext` hook.

The ModalManager responds to `"modal"` disclosure type requests. Components that wish to disclose content using the ModalManager should provide a preferred type of `"modal"`. This value is exported from the package as `disclosureType`. Please see the [DisclosureManager API documentation](https://engineering.cerner.com/terra-ui/#/components/terra-disclosure-manager/disclosure-manager/disclosure-manager-api) for a full description of the ModalManager's capabilities.

## DisclosureManagerHeaderAdapter Support

If a component disclosed by the ModalManager renders a `DisclosureManagerHeaderAdapter`, the ModalManager will render an ActionHeader and provide the standard disclosure navigation controls (close, go back, etc.) within it. The disclosed component can use the `DisclosureManagerHeaderAdapter` to inject its own title and CollapsibleButtonView into the ActionHeader.

If the disclosed component does **not** render a `DisclosureManagerHeaderAdapter`, the ModalManager will **not** render an ActionHeader itself. In this case, it is assumed that the disclosed component is rendering its own header. The disclosed component is responsible for rendering the appropriate controls to navigate the disclosure stack.
s
> Note: The DisclosureManagerHeaderAdapter is the preferred way to present a header within the ModalManager. In a future major release, the ModalManager will **always** render the header and navigation controls, regardless of the presence of a DisclosureManagerHeaderAdapter.

## Disclosure Accessory

The `disclosureAccessory` prop allows consumers of the ModalManager to render a static component above the disclosed modal content. The provided component will be rendered below the standard ActionHeader and above the disclosed content. This can be used to easily provide additional context to every disclosed component. This component is provided once to the ModalManager instance, not on a per-disclosure basis, and each component in the disclosure stack will be decorated with the same accessory component.

## ModalManager Dynamic Height Support With Limitations

In Terra-Model-manager intentionally do not have dynamic height, as it posed technical limitations with not being able to also allow for popups and conditionally positioned UI elements like the dropdowns within a select, as well as not handling responsive design alternate layouts without extensive browser redrawing/calculations that would result in poor performance.

When the set sizes of the modal's width -or- height is larger than the available device-screen/viewport (e.g. if you shrink down your window smaller than what the modal size was set to be), at that point the modal-manager is like the dialog-modal in that they both then "stick" near to the edge of the viewport as it's outer size, and then if the inner content has not been built responsively (it should be), it will force internal scrolling.

The modal-manager never grows or changes sizes in response to the content, mainly because the content should be built to respond to the outer size of the modal container using the original fixed size, and then alternate designs for when smaller.
>Key thing to remember - the Modal-Manger works based on the `outside-in` layout principal, which allows the inside content to "respond" to when the outside container changes to be smaller/larger in size.

## Component Features

* [Cross-Browser Support](https://engineering.cerner.com/terra-ui/about/terra-ui/component-standards#cross-browser-support)
* [Responsive Support](https://engineering.cerner.com/terra-ui/about/terra-ui/component-standards#responsive-support)
* [Mobile Support](https://engineering.cerner.com/terra-ui/about/terra-ui/component-standards#mobile-support)

## Examples
<ModalManagerExample title='Example' />
<ModalManagerExample showDisclosureAccessory title='Disclosure Accessory Example' />

## Modal Manager Props
<ModalManagerPropsTable />
