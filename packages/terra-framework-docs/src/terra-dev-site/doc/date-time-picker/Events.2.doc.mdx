import { Badge } from 'terra-date-time-picker/package.json?dev-site-package';

import DateTimePickerEvents from './guides/DateTimePickerEvents?dev-site-example';

<Badge />

# Terra Date Time Picker

## Events
terra-date-time-picker has several callback events that are slightly different in behavior from the native counterparts.

### onBlur
* The `onBlur` callback prop is triggered only when the entire component loses focus. If the focus is moved from the date input to the time input, the `onBlur` event will not be triggered since the focus is still within the DateTime Picker component. The `onBlur` event would be triggered when the focus is moved to any element that is not a child node of the DateTime Picker.
* There are two paramters in the `onBlur` callback prop. The first parameter is the `event` object representing the blur event. The second parameter is the `options` object that contains the following attributes to describe the current state of the input values at the time when the component loses focus.
  * `iSO` - The date/time value in the ISO format. This attribute would be empty if the date/time value is either empty or is not a complete date time. That is, the ISO string is available only if the isCompleteValue attribute is true.
  * `inputValue` - The face up value in the date and time inputs. If both the date and time have a value, these values will be separated by an white space.
  * `dateValue` - The face up value in the date input.
  * `timeValue` - The face up value in the time input.
  * `isAmbiguousHour` - A boolean to indicate whether or not both the date and time values correspond to an ambiguous hour. If this boolean is true, the date and time correspond to an ambiguous hour.
  * `isCompleteValue` - A boolean to indicate whether or not both the date and time values are filled out and conforms to the date/time format. If this boolean is false, the iSO attribute would be empty.
  * `isValidValue` - A boolean to indicate whether or not the complete date/time value is within the range of the minDate and maxDate props and is not an excluded date.

### onChange
* The `onChange` callback prop is triggered only when both a valid date and time that conform to the format is entered directly in the date and time inputs or selected from the date picker. The `onChange` callback prop would not be triggered if the entered or selected date meets one of the following criteria.
 - An exlcuded date in the `excludeDates` prop.
 - A date that is filtered by the `filterDate` prop.
 - Not an included date in the `includeDates` prop.
 - Not within the range of the `minDate` and `maxDate` props.
* There are three parameters in the `onChange` callback prop. The first parameter is the `event` object. The second parameter is the `date and time` value. The third parameter is the `options` object that contains the following attributes to describe the current state of the input values at the time when the `onChange` callback is triggered.
  * `iSO` - The date/time value in the ISO format. This attribute would be empty if the date/time value is either empty or is not a complete date time. That is, the ISO string is available only if the isCompleteValue attribute is true.
  * `inputValue` - The face up value in the date and time inputs. If both the date and time have a value, these values will be separated by an white space.
  * `dateValue` - The face up value in the date input.
  * `timeValue` - The face up value in the time input.
  * `isAmbiguousHour` - A boolean to indicate whether or not both the date and time values correspond to an ambiguous hour. If this boolean is true, the date and time correspond to an ambiguous hour.
  * `isCompleteValue` - A boolean to indicate whether or not both the date and time values are filled out and conforms to the date/time format. If this boolean is false, the iSO attribute would be empty.
  * `isValidValue` - A boolean to indicate whether or not the complete date/time value is within the range of the minDate and maxDate props and is not an excluded date.

### onChangeRaw
* The `onChangeRaw` callback prop is triggered whenever any key is entered in the date input. If the entered value happens to be a valid date and time, both the `onChangeRaw` and `onChange` events will be triggered. The `onChangeRaw` event would be triggered first followed by the `onChange` event.
* There are three parameters in the `onChangeRaw` callback prop. The first parameter is the `event` object. The second parameter is `either the date or time` value, which ever was changed. The third parameter is the `options` object that contains the following attributes to describe the current state of the input values at the time when the `onChangeRaw` callback is triggered.
  * `iSO` - The date/time value in the ISO format. This attribute would be empty if the date/time value is either empty or is not a complete date time. That is, the ISO string is available only if the isCompleteValue attribute is true.
  * `inputValue` - The face up value in the date and time inputs. If both the date and time have a value, these values will be separated by an white space.
  * `dateValue` - The face up value in the date input.
  * `timeValue` - The face up value in the time input.
  * `isAmbiguousHour` - A boolean to indicate whether or not both the date and time values correspond to an ambiguous hour. If this boolean is true, the date and time correspond to an ambiguous hour.
  * `isCompleteValue` - A boolean to indicate whether or not both the date and time values are filled out and conforms to the date/time format. If this boolean is false, the iSO attribute would be empty.
  * `isValidValue` - A boolean to indicate whether or not the complete date/time value is within the range of the minDate and maxDate props and is not an excluded date.

### onRequestClose
* The `onRequestClose` callback prop is triggered when dismissing the datepicker.

### onFocus
* The `onFocus` callback prop is triggered when the component initially gains focus. If the focus is moved from the date input to the time input, the `onFocus` event will not be triggered since the focus is still within the DateTime Picker component. Similar to the `onBlur` event, the `onFocus` event does not get triggered when the focus is moved from one child node of the DateTime Picker component to another child node of the same DateTime Picker component.

### onSelect
* The `onSelect` callback prop is triggered when a date is selected from the date picker. Once a date is selected, the `onChange` event will be triggered first (if the newly selected is different from the previous date) followed by the `onSelect` event.

## Event Trigger Order
When these actions are taken, the events are triggered in the following order.
* Manual date entry 
    1. onChangeRaw
    2. onChange (if the entered date and time are valid.)
* Selection from the picker
    1. onSelect
    2. onChange (if the existing time is valid which now forms a complete date time value.)

## Examples
<DateTimePickerEvents title='Date Picker Event Triggers' />
